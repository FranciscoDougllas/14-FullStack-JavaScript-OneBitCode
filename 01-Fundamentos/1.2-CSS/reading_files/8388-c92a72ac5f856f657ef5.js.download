"use strict";(self.webpackChunkcircle=self.webpackChunkcircle||[]).push([[8388],{95909:(e,t,r)=>{r.d(t,{U:()=>f});var n=r(67294),i=r(94184),o=r.n(i),a=r(18605),s=(0,n.createContext)();s.displayName="AccordionContext";const c=function(){var e=(0,n.useContext)(s);if(!e)throw new Error("No context found for Accordion");return e};var l=r(85893);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(e){var t,r=e.children,i=e.defaultActiveItemTitle,o=u((0,n.useState)(null===(t=r[0])||void 0===t?void 0:t.props.title),2),a=o[0],c=o[1];(0,n.useEffect)((function(){i&&c(i)}),[i]);var d=(0,n.useCallback)((function(e){c((function(){return a!==e?e:""}))}),[c,a]),f=(0,n.useMemo)((function(){return{activeItemTitle:a,setToggle:d}}),[d,a]);return(0,l.jsx)(s.Provider,{value:f,children:(0,l.jsx)("div",{className:"accordion",children:r})})};f.Item=function(e){var t=e.children,r=e.title,n=e.isDone,i=e.showIcon,s=c(),u=s.activeItemTitle,d=s.setToggle,f=u===r;return(0,l.jsxs)("div",{className:o()("accordion__item",{"accordion__item--shown":f}),children:[(0,l.jsxs)("button",{type:"button",onClick:function(){return d(r)},className:"accordion__item-title",children:[i?(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(a.JO,{className:"accordion__item-check-icon",size:16,type:n?"success-circle":"circle-empty"}),(0,l.jsx)("span",{className:"text-left",children:r})]}):(0,l.jsx)("span",{className:"text-left",children:r}),(0,l.jsx)(a.JO,{type:"cheveron-down",className:o()("accordion__item-title-icon",{"accordion__item-title-icon--rotated":f})})]}),(0,l.jsx)("div",{className:o()("accordion__item-content",{"accordion__item-content--shown":f}),children:t})]},r)}},24850:(e,t,r)=>{r.d(t,{R:()=>f});var n=r(96486),i=r(87536),o=r(52749),a=r(85893),s=["name","rules","onChange","className","addText","removeText"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var f=function(e){var t=e.name,r=e.rules,c=void 0===r?{}:r,u=e.onChange,f=void 0===u?n.noop:u,m=e.className,p=void 0===m?"":m,h=e.addText,b=void 0===h?I18n.t("add"):h,v=e.removeText,y=void 0===v?I18n.t("remove"):v,g=d(e,s),x=(0,i.Gc)(),j=x.register,O=x.watch,w=x.setValue,k=x.getValues,_=O(t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",l({type:"hidden"},j(t,c))),(0,a.jsxs)(o._,l(l({variant:_?"secondary":"primary",className:p,onClick:function(){var e=!k(t);w(t,e),f(e)}},g),{},{children:[_&&y,!_&&b]}))]})}},96629:(e,t,r)=>{r.d(t,{b:()=>u});var n=r(94184),i=r.n(n),o=r(18605),a=r(8246),s=r(85893),c={info:"20-info",success:"20-checkmark-circle-fill",alert:"20-alert",warning:"20-alert"},l={info:"border-v2-info text-v2-info",success:"border-v2-success text-v2-success",alert:"border-v2-danger text-v2-danger",warning:"border-v2-warning text-v2-warning"},u=function(e){var t=e.type,r=void 0===t?"info":t,n=e.icon,u=e.title,d=e.showIcon,f=void 0===d||d,m=e.description,p=e.className,h=void 0===p?"":p,b=e.children;return(0,s.jsx)("div",{className:i()("rounded-lg border border-l-8 px-6 py-4",l[r],h),role:"alert",children:(0,s.jsxs)("div",{className:"flex w-full gap-x-3",children:[f&&(n||(0,s.jsx)(o.JO,{type:c[r],size:20,className:"mt-1 !self-start"})),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-y-1",children:[u&&(0,s.jsx)(a.Z.LabelMd,{weight:"semibold",children:u}),m&&(0,s.jsx)(a.Z.LabelSm,{children:m}),b&&(0,s.jsx)(s.Fragment,{children:b})]})]})})}},55355:(e,t,r)=>{r.d(t,{X:()=>y});var n=r(94184),i=r.n(n),o=r(86013),a=r(87536),s=r(18605),c=r(85893),l=r(67294),u=["id","variant","name","label"],d=["name"];function f(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var y=function(e){var t=e.id,r=e.variant,n=e.name,s=e.label,l=void 0===s?(0,o.t)("checkbox"):s,d=v(e,u),f=(0,a.Gc)().register;if("box"===r)return(0,c.jsx)(x,h({name:n},d));var m=i()("react-checkbox",{"simple-toggle":"switch"===r});return(0,c.jsxs)("div",{className:m,children:[(0,c.jsx)("input",h(h({},d),{},{type:"checkbox",id:t},f(n))),(0,c.jsx)("label",{htmlFor:t,children:(0,c.jsx)("span",{className:"sr-only",children:l})})]})},g=function(e){var t=e.value,r=void 0===t?[]:t,n=e.onChange,o=e.direction,a=e.list,u=void 0===a?[]:a,d=u.filter((function(e){return!e.multi})).map((function(e){return e.name})),m=function(e){var t=e.multi,o=e.label,a=e.name,l=e.description,u=e.icon,m=r.includes(a);return(0,c.jsxs)("div",{className:i()("react-checkbox__box",{"react-checkbox__box--selected":m}),children:[(0,c.jsx)("button",{type:"submit",name:a,onClick:function(e){return function(e,t,i){i.preventDefault();var o=r;r.includes(e)?t&&r.length>1&&(o=r.filter((function(t){return t!==e}))):o=t?[].concat(f(r.filter((function(e){return!d.includes(e)}))),[e]):[e],n&&n(o)}(a,t,e)},children:o}),u&&(0,c.jsx)("span",{className:"react-checkbox__box-icon",children:(0,c.jsx)(s.JO,{type:m?u.selected:u.default,viewBox:u.viewBox})}),(0,c.jsx)("span",{className:"react-checkbox__box-label",children:o}),(0,c.jsx)("span",{className:"react-checkbox__box-description",children:l})]})},p=u.map((function(e){return(0,l.createElement)(m,h(h({},e),{},{key:e.name}))}));return(0,c.jsx)("div",{className:i()("react-checkbox__boxes",o),children:p})},x=function(e){var t=e.name,r=v(e,d),n=(0,a.Gc)().control;return(0,c.jsx)(a.Qr,{control:n,name:t,render:function(e){var t=e.field,n=t.onChange,i=t.value,o=t.name;return(0,c.jsx)(g,h(h({},r),{},{name:o,onChange:n,value:i}))}})}},250:(e,t,r)=>{r.d(t,{z:()=>c});var n=r(6512),i=r(13342),o=r(94184),a=r.n(o),s=r(85893),c=function(e){var t=e.title,r=e.children,o=e.noPadding,c=e.noBorder,l=e.defaultOpen,u=void 0!==l&&l;return(0,s.jsx)(n.p,{defaultOpen:u,children:function(e){var l=e.open;return(0,s.jsxs)("div",{className:a()("collapsible",{"collapsible--no-border":c||!l}),children:[(0,s.jsxs)(n.p.Button,{className:a()("collapsible__title border-primary",{"collapsible__title--no-padding":o,"border-b":!l}),children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)(i.Z,{className:a()("collapsible__arrow text-dark",{"collapsible__arrow--open":l})})]}),(0,s.jsx)(n.p.Panel,{className:"collapsible__children",unmount:!1,children:r})]})}})}},63542:(e,t,r)=>{r.d(t,{I:()=>d});var n=r(94184),i=r.n(n),o=r(86013),a=r.n(o),s=r(96486),c=r(81786),l=r(97479),u=r(85893),d=function(e){var t=e.onClose,r=e.show,n=void 0!==r&&r,o=e.onConfirm,d=void 0===o?s.noop:o,f=e.onCancel,m=e.title,p=e.subtitle,h=e.sentiment,b=void 0===h?"danger":h,v=e.loading,y=void 0!==v&&v,g=e.description,x=void 0===g?"":g,j=e.bodyElement,O=void 0===j?null:j,w=e.maxZIndexEnabled,k=void 0!==w&&w,_=e.buttonLabel,N=void 0===_?"":_;return n?(0,u.jsx)(l.h,{className:"z-50",children:(0,u.jsx)("div",{className:i()("confirm",{"z-2000":k}),children:(0,u.jsxs)("div",{className:"confirm__container",children:[(0,u.jsx)("h4",{className:"confirm__title",children:m}),p&&(0,u.jsx)("h5",{className:"confirm__subtitle",children:p}),x&&(0,u.jsx)("p",{className:"pt-6 text-center",children:x}),O,(0,u.jsxs)("div",{className:"confirm__actions",children:[(0,u.jsx)(c.z,{variant:"secondary",onClick:f||t,children:a().t("cancel")}),(0,u.jsx)(c.z,{disabled:y,variant:b,strong:!0,onClick:d,children:N||a().t("confirm")})]})]})})}):null}},68957:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(96486),i=r(87536),o=r(52749),a=r(85893);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u=function(e){var t=e.name,r=e.rules,s=void 0===r?{}:r,l=e.onChange,u=void 0===l?n.noop:l,d=e.className,f=void 0===d?"form-control":d,m=e.step,p=void 0===m?1:m,h=e.min,b=void 0===h?0:h,v=e.max,y=(0,i.Gc)(),g=y.register,x=y.setValue,j=y.getValues;return(0,a.jsxs)("div",{className:"react-counter",children:[(0,a.jsx)(o._,{variant:"secondary-light",onClick:function(){var e=j(t),r=parseInt(e)-p;r<0||(x(t,r),u(r))},children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)("input",c({readOnly:!0,type:"number",className:f,step:p,min:b},g(t,s))),(0,a.jsx)(o._,{variant:"secondary-light",onClick:function(){var e=j(t),r=parseInt(e)+p,n=v&&v>0?Math.min(r,p*v):r;x(t,n),u(n)},children:(0,a.jsx)("span",{children:"+"})})]})}},72860:(e,t,r)=>{r.d(t,{w:()=>f});var n=r(94184),i=r.n(n),o=r(22735),a=r(85893),s=["key","isSelectable","rowClassName"];function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t=e.columns,r=e.dataSource,n=e.className,l=e.footer,d=e.variant,f=void 0===d?"default":d,m=e.tableBodyVariant,p=e.hasStickyHeader,h=e.headerClassName,b=e.dataTestId;return(0,a.jsxs)(o.iA,{className:n,variant:f,dataTestId:b,children:[(0,a.jsx)(o.FE,{isSticky:p,className:h,children:null===t||void 0===t?void 0:t.map((function(e){var t=e.title,r=e.dataIndex,n=e.key,i=e.variant,s=e.className;return(0,a.jsx)(o.dc,u(u({variant:i},s&&{className:s}),{},{children:t||r}),n)}))}),(0,a.jsx)(o.RM,{variant:m,children:null===r||void 0===r?void 0:r.map((function(e){var r=e.key,n=e.isSelectable,l=void 0!==n&&n,u=e.rowClassName,d=c(e,s);return(0,a.jsx)(o.SC,{isSelectable:l,className:u,children:null===t||void 0===t?void 0:t.map((function(e){var t,n=e.key,s=e.dataIndex,c=e.tdClassName,l=e.shouldWrap;return(0,a.jsx)(o.pj,{onClick:null===d||void 0===d||null===(t=d.onClickColumns)||void 0===t?void 0:t[s],className:i()(c),shouldWrap:l,children:null===d||void 0===d?void 0:d[s]},"".concat(r,"-").concat(n))}))},r)}))}),l&&(0,a.jsx)(o.OQ,{children:l})]})}},78727:(e,t,r)=>{r.d(t,{N:()=>p,y:()=>h});var n=r(67294),i=r(27060),o=r(74094),a=r(96486),s=r(85893);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=(0,n.createContext)({columns:[],data:[],initialPage:1,isLoading:!1,onBottomReached:a.noop,onChangePage:a.noop,onClickRow:a.noop,pageSize:10,table:null,totalRecordsCount:0});m.displayName="DataTableData";var p=function(){return(0,n.useContext)(m)},h=function(e){var t,r=e.children,c=e.columns,u=void 0===c?[]:c,f=e.data,p=void 0===f?[]:f,h=e.isLoading,b=void 0!==h&&h,v=e.onBottomReached,y=void 0===v?a.noop:v,g=e.onChangePage,x=void 0===g?a.noop:g,j=e.onChangeSorting,O=e.onClickRow,w=e.initialPage,k=void 0===w?1:w,_=e.initialSort,N=void 0===_?null:_,P=e.pageSize,C=void 0===P?10:P,S=e.totalRecordsCount,I=void 0===S?0:S,L=e.groupingEnabled,D=void 0!==L&&L,T=e.grouping,E=void 0===T?[]:T,A=e.groupedColumnMode,M=void 0===A?"remove":A,z=e.expanded,B=void 0!==z&&z,R=e.columnPinning,Z=void 0===R?{}:R,H=d((0,n.useState)({pageIndex:k-1,pageSize:C}),2),V=H[0],F=V.pageIndex,U=V.pageSize,J=H[1];(0,n.useEffect)((function(){J({pageIndex:k-1,pageSize:C})}),[k,C,J]);var W=(0,n.useMemo)((function(){return{pageIndex:F,pageSize:U}}),[F,U]),q=D?{getGroupedRowModel:(0,i.qe)(),getExpandedRowModel:(0,i.rV)(),enableGrouping:D,groupedColumnMode:M}:{},G=D?{grouping:E,expanded:B}:{},X=(0,o.b7)(l({data:p,columns:u,getCoreRowModel:(0,i.sC)(),manualSortBy:!0,manualPagination:!0,pageCount:null!==(t=Math.ceil(I/U))&&void 0!==t?t:-1,state:l({pagination:W},G),initialState:{sorting:N,columnPinning:Z},onPaginationChange:J},q)),Q=X.getState().sorting,$=d((0,n.useState)(F),2),K=$[0],Y=$[1],ee=d((0,n.useState)(Q),2),te=ee[0],re=ee[1];(0,n.useEffect)((function(){(0,a.isFunction)(j)&&Q&&Q!==te&&(re(Q),j(Q))}),[j,te,Q]),(0,n.useEffect)((function(){(0,a.isFunction)(x)&&F!==K&&(Y(F),x(F+1))}),[x,F,K]);var ne=(0,n.useMemo)((function(){return{table:X,columns:u,data:p,isLoading:b,onClickRow:O,onChangeSorting:j,totalRecordsCount:I,pageSize:U,onBottomReached:y,onChangePage:x}}),[X,u,p,b,O,j,I,U,y,x]);return(0,s.jsx)(m.Provider,{value:ne,children:r})}},94312:(e,t,r)=>{r.d(t,{s:()=>c});var n=r(94184),i=r.n(n),o=r(36589),a=r(8246),s=r(85893),c=Object.assign((function(e){var t=e.children,r=e.className,n=(0,o.I)().isV3Enabled;return(0,s.jsx)("div",{className:i()("px-6 pb-1 pt-5",r,{"lg:px-9":n}),children:(0,s.jsx)("div",{className:"flex min-h-[1.75rem] items-center gap-4",children:t})})}),{Title:function(e){var t=e.children;return(0,s.jsx)(a.Z.LabelMd,{weight:"semibold",children:t})}})},15597:(e,t,r)=>{r.d(t,{y:()=>f});var n=r(94184),i=r.n(n),o=r(36589),a=r(85893),s=["children"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var f=function(e){var t=e.children,r=d(e,s),n=(0,o.I)().isV3Enabled;return(0,a.jsx)("div",l(l({className:i()("px-6",{"lg:px-9":n})},r),{},{children:t}))}},58253:(e,t,r)=>{r.d(t,{w:()=>R});var n=r(78727),i=r(91171),o=r(67294),a=r(94184),s=r.n(a),c=r(54030),l=r(18605),u=r(27025),d=r(85893);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var p={modifiers:[{name:"offset",options:{offset:[0,5]}}]},h=Object.assign((function(e){var t=e.children,r=e.buttonClassName,n=e.contentPortalElement,i=(0,c.en)(),a=f((0,o.useState)(!1),2),m=a[0],h=a[1];return(0,d.jsx)(u.Lt,{dataTestId:"three-dots-dropdown-menu",button:(0,d.jsx)("div",{className:s()("hover:bg-tertiary flex h-6 w-6 justify-center rounded",r),children:(0,d.jsx)(l.JO,{type:"menu-dots",className:"text-light",useWithFillCurrentColor:!0})}),className:s()("text-dark z-10 flex justify-end",{"group-hover:visible lg:invisible":i&&!m}),transitionWrapperClassName:"z-50",buttonWrapperClassName:"flex",popperOptions:p,onToggle:h,appendTo:null!==n&&void 0!==n?n:document.body,children:t})}),{Item:i.g}),b=r(74094),v=r(96486),y=r(69263),g=r(8246);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=r(23560),k=r.n(w),_=function(e){var t=e.header,r=e.renderHeader;return k()(r)?r({header:t}):(0,d.jsx)(y.i.Th,{className:t.column.columnDef.thClassName,children:(0,d.jsx)(y.i.TableHeaderText,{className:t.column.columnDef.thInnerClassName,children:(0,b.ie)(t.column.columnDef.header,t.getContext())})},t.id)},N=function(e){var t=e.isSticky,r=void 0===t||t,i=e.className,o=e.renderHeader,a=(0,n.N)().table.getHeaderGroups();return(0,d.jsx)(y.i.TableHead,{isSticky:r,className:i,children:a.map((function(e){return(0,d.jsx)(y.i.Tr,{children:e.headers.map((function(e){return(0,d.jsx)(_,{header:e,renderHeader:o},e.id)}))},e.id)}))})},P=r(94312),C=r(86013),S=r(13288),I=r(62618),L=r(81786),D=r(23279),T=r.n(D);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var z=function(e){var t=e.header,r=e.ascendingIcon,i=void 0===r?"12-arrow-up":r,o=e.descendingIcon,a=void 0===o?"12-arrow-down":o,c=(0,n.N)().isLoading;if(t.isPlaceholder)return null;var u={asc:(0,d.jsx)(l.JO,{type:i,size:12,className:"text-dark"}),desc:(0,d.jsx)(l.JO,{type:a,size:12,className:"text-dark"})}[t.column.getIsSorted()]||null,f=!(!1===t.column.columnDef.canSort),m=function(e){var t=e.header;return(0,d.jsx)(y.i.TableHeaderText,{className:t.column.columnDef.thInnerClassName,children:(0,b.ie)(t.column.columnDef.header,t.getContext())})};return(0,d.jsx)(y.i.Th,A(A({className:s()({"hover:bg-secondary cursor-pointer select-none transition-colors":f&&!c,"opacity-30":f&&c},t.column.columnDef.thClassName)},f&&!c&&{onClick:t.column.getToggleSortingHandler()}),{},{children:f?(0,d.jsxs)("span",{className:"flex items-center",children:[(0,d.jsx)(m,{header:t}),(0,d.jsx)("span",{className:s()("flex h-4 w-4 items-center",{invisible:Boolean(!u)}),children:u})]}):(0,d.jsx)(m,{header:t})}))},B=r(15597),R=Object.assign(n.y,{Table:function(e){var t=e.children,r=e.className,i=(0,n.N)().isLoading;return(0,d.jsx)(y.i,{className:s()(r,{"cursor-wait":i}),children:t})},TableWrapper:B.y,Headline:P.s,Header:N,Head:_,SortableHead:function(e){var t=e.className;return(0,d.jsx)(N,{className:t,renderHeader:function(e){var t=e.header;return(0,d.jsx)(z,{header:t},t.id)}})},Body:function(e){var t=e.className,r=e.hideBorders,i=void 0!==r&&r,o=(0,n.N)(),a=o.table,c=o.isLoading,l=o.onClickRow,u=a.getRowModel().rows;return(0,d.jsx)(y.i.TableBody,{className:s()(t,{"opacity-30":c}),children:u.map((function(e){return(0,d.jsx)(y.i.Tr,j(j({},(0,v.isFunction)(l)&&{onClick:function(){return l(e)}}),{},{children:e.getVisibleCells().map((function(t){return(0,d.jsx)(y.i.Td,j(j({hideBorders:i,className:s()(t.column.columnDef.cellClassName,{"!py-3":e.getIsGrouped(),"first:!pl-4":1===e.depth})},(0,v.isFunction)(t.column.columnDef.onClick)&&{onClick:function(e){return t.column.columnDef.onClick({cell:t,event:e})}}),{},{children:(0,d.jsx)(g.Z.LabelSm,{children:t.getIsAggregated()?(0,b.ie)(t.column.columnDef.aggregatedCell,t.getContext()):(0,b.ie)(t.column.columnDef.cell,t.getContext())})}),t.id)}))}),e.id)}))})},Foot:function(e){var t=e.className,r=e.children;return(0,d.jsx)(y.i.TableFoot,{className:s()("py-3",t),children:r})},Pagination:function(e){var t=e.className,r=e.onNext,i=e.onPrevious,o=e.nextDisabled,a=e.previousDisabled,c=e.align,u=void 0===c?"justify":c,f=e.direction,m=void 0===f?"normal":f,p=(0,n.N)(),h=p.table,b=p.pageSize,v=p.totalRecordsCount,y=p.isLoading,x=h.getState().pagination.pageIndex+1,j=Math.min(v,(x-1)*b+1),O=Math.min(v,x*b),w=(0,I.HA)(v);return(0,d.jsxs)("div",{className:s()("bg-primary flex items-center gap-2 py-3.5 lg:items-center",{"justify-start gap-x-4":"left"===u&&"normal"===m||"right"===u&&"reverse"===m,"justify-end gap-x-4":"left"===u&&"reverse"===m||"right"===u&&"normal"===m,"justify-between":"justify"===u},{"flex-row-reverse space-x-reverse":"reverse"===m},t),children:[(0,d.jsx)("div",{children:(0,d.jsx)(g.Z.LabelSm,{children:(0,C.t)("datatable.footer.showing",{from:j,to:O,total:w})})}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)(L.z,{variant:"secondary",onClick:function(e){i?i(e,h):h.previousPage()},disabled:void 0!==a?a:!h.getCanPreviousPage()||y,children:[(0,d.jsx)("span",{className:"sm:hidden",children:(0,d.jsx)(l.JO,{type:"20-chevron-left",size:20})}),(0,d.jsx)("span",{className:"hidden sm:inline",children:(0,C.t)("datatable.footer.previous")})]}),(0,d.jsxs)(L.z,{variant:"secondary",onClick:function(e){r?r(e,h):h.nextPage()},disabled:void 0!==o?o:!h.getCanNextPage()||y,children:[(0,d.jsx)("span",{className:"sm:hidden",children:(0,d.jsx)(l.JO,{type:"20-chevron-right",size:20})}),(0,d.jsx)("span",{className:"hidden sm:inline",children:(0,C.t)("datatable.footer.next")})]})]})]})},ScrollableContainer:function(e){var t=e.className,r=e.children,i=(0,o.useRef)(null),a=function(e){var t=e.tableContainerRef,r=e.onBottomReached,n=e.offsetInPixels,i=void 0===n?300:n,a=(0,o.useCallback)((function(e){e&&e.scrollHeight-e.scrollTop-e.clientHeight<i&&r()}),[r,i]);return(0,o.useEffect)((function(){a(t.current)}),[a,t]),{fetchMoreOnBottomReached:a}}({tableContainerRef:i,onBottomReached:(0,n.N)().onBottomReached}),c=a.fetchMoreOnBottomReached,l=T()(c,500);return(0,d.jsx)("div",{onScroll:function(e){l(e.target)},ref:i,className:s()(t),children:r})},SortableTableHead:z,Loader:function(e){var t=e.text,r=(0,n.N)(),i=r.data,o=r.columns,a=r.isLoading,s=o.length,c=i.length>0;return a&&!c?(0,d.jsx)(y.i.TableBody,{children:(0,d.jsx)(y.i.Tr,{children:(0,d.jsx)(y.i.Td,{colSpan:s,children:t?(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(g.Z.LabelSm,{color:"text-light",children:t||(0,C.t)("datatable.empty.no_data")})}):(0,d.jsx)(S.a,{center:!0,className:"!p-0"})})})}):null},NoRecords:function(e){var t=e.text,r=(0,n.N)(),i=r.data,o=r.columns,a=r.isLoading,s=o.length;return i.length>0||a?null:(0,d.jsx)(y.i.TableBody,{children:(0,d.jsx)(y.i.Tr,{children:(0,d.jsx)(y.i.Td,{colSpan:s,children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(g.Z.LabelSm,{color:"text-light",children:t||(0,C.t)("datatable.empty.no_data")})})})})})},Actions:h})},6298:(e,t,r)=>{r.d(t,{d:()=>u});var n=r(94184),i=r.n(n),o=r(86013),a=r(85719),s=r(54482),c=r(85893),l=function(e){var t=e.fixed,r=e.title,n=e.addHeaderPadding,o=e.Actions;return(0,c.jsxs)("div",{className:i()("drawer__header",{"drawer__header--fixed":t,"drawer__header--with-padding":n}),children:[(0,c.jsx)("span",{className:"header__title",children:r}),(0,c.jsx)("div",{className:"header__actions",children:o})]})},u=function(e){var t=e.open,r=e.title,n=e.className,u=e.hideHeader,d=e.variant,f=void 0===d?"default":d,m=e.onChange,p=e.afterVisibleChange,h=e.onClose,b=e.children,v=e.fixedHeader,y=e.noWrapperPadding,g=e.maskClosable,x=void 0!==g&&g,j=e.drawerChildrenClassName;return t?(0,c.jsxs)(a.Z,{prefixCls:"drawer",className:i()("drawer--".concat(f),n,{"drawer--no-padding":y}),open:t,level:null,placement:"right",onChange:m,afterVisibleChange:p,handler:null,onClose:h,maskClosable:x,children:[!u&&(0,c.jsx)(l,{title:r,fixed:v,addHeaderPadding:y,Actions:(0,c.jsx)(s.h,{iconSize:24,name:"24-close",onClick:h,ariaLabel:(0,o.t)("drawer.close_panel"),dataTestId:"drawer-close-button"})}),t&&(0,c.jsx)("div",{className:"drawer__children ".concat(j),children:b})]}):null};u.Header=l,u.Footer=function(e){var t=e.sticky,r=e.children;return(0,c.jsx)("div",{className:i()("drawer__footer",{"drawer__footer--sticky":t}),children:r})}},56128:(e,t,r)=>{r.d(t,{u:()=>a});var n=r(81786),i=r(8246),o=r(85893),a=function(e){var t=e.header,r=e.description,a=e.primaryLabel,s=e.onPrimaryClick,c=e.secondaryLabel,l=e.onSecondaryClick,u=e.tertiaryLabel,d=e.onTertiaryClick,f=Boolean(s&&a),m=Boolean(l&&c),p=Boolean(d&&u);return(0,o.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center gap-9 p-8 text-center","data-testid":"empty-state",children:[(0,o.jsxs)("div",{className:"flex max-w-lg flex-col gap-3",children:[(0,o.jsx)(i.Z.TitleMd,{children:t}),r&&(0,o.jsx)(i.Z.BodyMd,{children:r})]}),(0,o.jsxs)("div",{className:"flex gap-3",children:[f&&(0,o.jsx)(n.z,{type:"button",variant:"circle",onClick:s,children:a}),m&&(0,o.jsx)(n.z,{type:"button",variant:"secondary",onClick:l,children:c})]}),p&&(0,o.jsx)(n.z,{type:"button",variant:"link",onClick:d,children:u})]})}},45598:(e,t,r)=>{r.d(t,{Y:()=>l,B:()=>u});var n=r(67294),i=r(96486),o=r(85893);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=(0,n.createContext)({isOpen:!1,isDefaultOpen:!1,shouldCloseOnClickOutside:!1,onToggle:i.noop});c.displayName="ExpandableBlockData";var l=function(){return(0,n.useContext)(c)},u=function(e){var t=e.isOpen,r=e.isDefaultOpen,s=e.onToggle,l=e.shouldCloseOnClickOutside,u=e.children,d=a((0,n.useState)(r),2),f=d[0],m=d[1],p=!(0,i.isUndefined)(t);(0,n.useEffect)((function(){p&&m(t)}),[t,p]);return(0,o.jsx)(c.Provider,{value:{isOpen:f,isDefaultOpen:r,onToggle:function(){(0,i.isFunction)(s)&&s(),p||m((function(e){return!e}))},shouldCloseOnClickOutside:l},children:u})}},61228:(e,t,r)=>{r.d(t,{P:()=>f});var n=r(94184),i=r.n(n),o=r(45598),a=r(85893),s=r(64302);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var d=function(e){var t=e.className,r=e.children,n=(0,o.Y)(),c=n.isOpen,u=n.shouldCloseOnClickOutside,d=n.onToggle,f=(0,s.L)({onBlurWithin:function(){u&&c&&d()}}).focusWithinProps;return(0,a.jsx)("div",l(l({className:i()("bg-primary hover:shadow-xs w-full rounded-lg transition-colors duration-75",t),"aria-expanded":c},u&&f),{},{children:r}))},f=Object.assign((function(e){var t=e.isOpen,r=void 0!==t&&t,n=e.isDefaultOpen,i=e.onToggle,s=e.shouldCloseOnClickOutside,c=e.className,l=e.children;return(0,a.jsx)(o.B,{isOpen:r,isDefaultOpen:n,onToggle:i,shouldCloseOnClickOutside:s,children:(0,a.jsx)(d,{className:c,children:l})})}),{Button:function(e){var t=e.onClick,r=e.className,n=e.children,s=(0,o.Y)().onToggle;return(0,a.jsx)("button",{type:"button",className:i()("w-full cursor-pointer select-none px-8 py-6 text-left",r),onClick:function(){s(),null===t||void 0===t||t()},children:n})},Panel:function(e){var t=e.className,r=e.children,n=(0,o.Y)().isOpen;return(0,a.jsx)("div",{className:i()("transition-all duration-150 ease-in",{"max-h-0 opacity-0":!n,"max-h-full opacity-100":n},t),children:(0,a.jsx)("div",{className:"p-8 pt-0",children:r})})}})},42020:(e,t,r)=>{r.d(t,{D:()=>s});var n=r(94184),i=r.n(n),o=r(5982),a=r(85893);function s(e){var t=e.editor,r=e.isFocused,n=e.dynamicVariables;if(!t)return null;var s=i()(r?"text-default dark:text-dark":"text-lightest dark:text-default");return(0,a.jsx)("div",{children:(0,a.jsx)(o.m,{className:s,editor:t,variables:n})})}},78354:(e,t,r)=>{r.d(t,{_:()=>u});var n=r(87536),i=r(66422),o=r(85893),a=["name"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var u=function(e){var t=e.name,r=l(e,a),u=(0,n.Gc)().control;return(0,o.jsx)(n.Qr,{control:u,name:t,render:function(e){var t=e.field,n=t.onChange,a=t.value,l=t.onBlur;return(0,o.jsx)(i.T,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({value:a,onChange:n,onBlur:l},r))}})}},15906:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(94184),i=r.n(n),o=r(85893),a=["children","className","dataTestId"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var d=function(e){var t=e.children,r=e.className,n=e.dataTestId,s=u(e,a);return(0,o.jsx)("div",c(c({className:i()("flex flex-row items-center space-x-px",r),"data-testid":n},s),{},{children:t}))}},4723:(e,t,r)=>{r.d(t,{H:()=>f});var n=r(86013),i=r(96486),o=r(73826),a=r(18605),s=r(64626),c=r(85893);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t=e.isPreviewMode,r=void 0!==t&&t,l=(0,o.D)(),d=(0,s.gn)();return(0,c.jsx)("div",{className:"absolute inset-1/2 top-2 w-[480px] -translate-x-1/2",children:(0,c.jsxs)("div",{className:"relative justify-self-center",children:[(0,c.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,c.jsx)(a.JO,{type:"16-search",size:16,className:"text-c-header"})}),(0,c.jsx)("button",{type:"submit",onClick:r?i.noop:function(){l.show()},className:"border-primary bg-c-header hover:bg-c-header-hover focus-visible:bg-c-header-hover text-c-header hover:border-primary focus:border-primary flex max-h-8 w-[30rem] items-center rounded-lg border py-2 pl-10 text-sm transition-colors duration-150 ease-linear focus:outline-none focus:ring-0",style:u({},d),children:(0,n.t)("search_item")})]})})}},46649:(e,t,r)=>{r.d(t,{P:()=>c});var n=r(94184),i=r.n(n),o=r(86013),a=r(64626),s=r(85893),c=function(e){var t=e.children,r=e.className,n=e.isRenderedOutsideSpace,c=void 0!==n&&n,l=(0,a.gn)();return(0,s.jsx)("nav",{"data-testid":"navigation-bar-wrapper","aria-label":(0,o.t)("search_and_notifications"),className:i()("border-primary bg-c-header grid-cols-header sticky top-0 z-50 grid min-h-[48px] border-b",{"max-h-12 py-2 pl-4 pr-6":!c,"sticky top-0 z-50 max-h-16 px-6 py-4":c},r),id:"root-header-v2_1",style:l,children:t})}},93233:(e,t,r)=>{r.d(t,{R:()=>c});var n=r(94184),i=r.n(n),o=r(86013),a=r(64626),s=r(85893),c=function(e){var t=e.children,r=e.className,n=e.isRenderedOutsideSpace,c=void 0!==n&&n,l=(0,a.gn)();return(0,s.jsx)("nav",{"data-testid":"navigation-bar-wrapper","aria-label":(0,o.t)("main_navigation_bar"),className:i()("border-primary bg-c-header grid-cols-header sticky top-0 z-50 grid min-h-[64px] border-b",{"max-h-16 px-9 py-2":!c,"sticky top-0 z-50 max-h-16 px-6 py-4":c},r),id:"root-header-v2_1",style:l,children:t})}},47558:(e,t,r)=>{r.d(t,{f:()=>s});var n=r(94184),i=r.n(n),o=function(e,t){return t.map((function(t){var r=String(t),n=r.toLowerCase();return"ctrl"===n?e?"\u2318":r:"shift"===n?e?"\u21e7":r:"alt"===n||"option"===n?e?"\u2325":r:"cmd"===n?e?"\u2318":"ctrl":"enter"===n?"\u21b5":r.toUpperCase()}))},a=r(85893),s=function(e){var t=e.keys,r=e.isDarkMode,n=void 0!==r&&r,s=e.wrapperClassName,c=e.className,l=e.size,u=void 0===l?"sm":l,d=navigator.platform.toUpperCase().indexOf("MAC")>=0;return(0,a.jsx)("div",{className:i()("flex flex-row space-x-2",s),children:o(d,t).map((function(e){return(0,a.jsx)("span",{className:i()("rounded-md px-2 py-1 text-center",{"bg-tertiary text-selector-active":!n,"bg-toggle-active text-white":n},{"min-h-[24px] min-w-[24px] text-sm":"sm"===u,"min-h-[16px] min-w-[16px] text-xs":"xs"===u},c),children:e},e)}))})}},11642:(e,t,r)=>{r.d(t,{v:()=>v});var n=r(86013),i=r(96486),o=r(11049),a=r(98338),s=r(39068),c=r(82177),l=r(8246),u=r(47558),d=r(85893),f=function(e){var t=e.name,r=e.keys;return(0,d.jsxs)("div",{className:"border-primary flex flex-row items-center justify-between border-b py-2 last:border-0","data-testid":"keyboard-shortcut-item",children:[(0,d.jsx)(l.Z.LabelSm,{children:t}),(0,d.jsx)(u.f,{keys:r})]},t)},m=function(e){var t=e.shortcut,r=e.isAdmin,n=void 0!==r&&r,o=e.isModerator,a=void 0!==o&&o,s=t.permissions,c=t.name,l=t.keys;return(0,i.isUndefined)(s)||n&&s.includes("admin")||a&&s.includes("moderator")?(0,d.jsx)(f,{name:c,keys:l}):null},p=[{category:(0,n.t)("header_v3.shortcuts.category.basics"),shortcuts:[{name:(0,n.t)("header_v3.shortcuts.name.open_search"),keys:["cmd","K"]},{name:(0,n.t)("header_v3.shortcuts.name.open_keyboard_shortcuts"),keys:["cmd","/"]},{name:(0,n.t)("header_v3.shortcuts.name.toggle_light_dark_mode"),keys:["cmd","alt","u"]},{name:(0,n.t)("header_v3.shortcuts.name.open_notifications"),keys:["alt","n"]},{name:(0,n.t)("header_v3.shortcuts.name.open_direct_messages"),keys:["alt","m"]},{name:(0,n.t)("header_v3.shortcuts.name.open_chat_threads"),keys:["alt","t"]},{name:(0,n.t)("header_v3.shortcuts.name.open_bookmarks"),keys:["alt","b"]},{name:(0,n.t)("header_v3.shortcuts.name.customize_theme"),keys:["alt","c","t"],permissions:["admin"]},{name:(0,n.t)("header_v3.shortcuts.name.customize_notifications"),keys:["alt","c","n"]},{name:(0,n.t)("header_v3.shortcuts.name.edit_profile"),keys:["alt","g","p"]},{name:(0,n.t)("header_v3.shortcuts.name.view_profile"),keys:["alt","g","v"]},{name:(0,n.t)("header_v3.shortcuts.name.write_a_post"),keys:["cmd","shift","p"]}]},{category:(0,n.t)("header_v3.shortcuts.category.community_switching"),shortcuts:[{name:(0,n.t)("header_v3.shortcuts.name.a_specific_community"),keys:["alt","g","1-9"]}]},{category:(0,n.t)("header_v3.shortcuts.category.navigation"),shortcuts:[{name:(0,n.t)("header_v3.shortcuts.name.add_space"),keys:["alt","shift","n"],permissions:["admin","moderator"]},{name:(0,n.t)("header_v3.shortcuts.name.add_space_group"),keys:["alt","shift","g"],permissions:["admin"]},{name:(0,n.t)("header_v3.shortcuts.name.home_feed"),keys:["alt","g","h"]},{name:(0,n.t)("header_v3.shortcuts.name.go_live"),keys:["alt","g","l"],permissions:["admin"]},{name:(0,n.t)("header_v3.shortcuts.name.member_directory"),keys:["alt","g","m"],permissions:["admin"]},{name:(0,n.t)("header_v3.shortcuts.name.course_directory"),keys:["alt","g","c"]},{name:(0,n.t)("header_v3.shortcuts.name.settings"),keys:["alt","g","s"],permissions:["admin"]},{name:(0,n.t)("header_v3.shortcuts.name.event_directory"),keys:["alt","g","e"]}]},{category:(0,n.t)("header_v3.shortcuts.category.text_editor"),shortcuts:[{name:(0,n.t)("header_v3.shortcuts.name.slash_commands"),keys:["/"]},{name:(0,n.t)("header_v3.shortcuts.name.emoji_autocomplete"),keys:[":"]},{name:(0,n.t)("header_v3.shortcuts.name.mentions_autocomplete"),keys:["@"]},{name:(0,n.t)("header_v3.shortcuts.name.copy"),keys:["cmd","C"]},{name:(0,n.t)("header_v3.shortcuts.name.cut"),keys:["cmd","X"]},{name:(0,n.t)("header_v3.shortcuts.name.paste"),keys:["cmd","V"]},{name:(0,n.t)("header_v3.shortcuts.name.paste_without_formatting"),keys:["cmd","shift","V"]},{name:(0,n.t)("header_v3.shortcuts.name.undo"),keys:["cmd","Z"]},{name:(0,n.t)("header_v3.shortcuts.name.redo"),keys:["cmd","shift","Z"]},{name:(0,n.t)("header_v3.shortcuts.name.add_a_line_break"),keys:["shift","enter"]},{name:(0,n.t)("header_v3.shortcuts.name.bold"),keys:["cmd","B"]},{name:(0,n.t)("header_v3.shortcuts.name.italic"),keys:["cmd","I"]},{name:(0,n.t)("header_v3.shortcuts.name.underline"),keys:["cmd","U"]},{name:(0,n.t)("header_v3.shortcuts.name.strikethrough"),keys:["cmd","shift","X"]}]}],h=function(){var e=(0,o.dd)(),t=(0,a.wh)().currentCommunityMember,r=(0,s.vb)(t),u=(0,s.I$)(t);return(0,d.jsxs)(c.u_,{isOpen:e.visible,onClose:e.visible?e.hide:i.noop,children:[(0,d.jsx)(c.u_.Overlay,{}),(0,d.jsxs)(c.u_.Content,{size:"lg",children:[(0,d.jsxs)(c.u_.Header,{children:[(0,d.jsx)(c.u_.Title,{className:"text-center",size:"md",children:(0,n.t)("header_v3.keyboard_shortcuts")}),(0,d.jsx)(c.u_.HeaderActions,{children:(0,d.jsx)(c.u_.CloseButton,{onClick:e.visible?e.hide:i.noop})})]}),(0,d.jsx)(c.u_.Body,{children:(0,d.jsx)("div",{className:"space-y-5",children:p.map((function(e){return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)(l.Z.LabelMd,{color:"text-selector-active",weight:"semibold",children:e.category}),e.shortcuts.map((function(e){return(0,d.jsx)(m,{shortcut:e,isAdmin:r,isModerator:u},e.name)}))]},e.category)}))})})]})]})},b=o.gk.create((function(){return(0,d.jsx)(h,{})})),v=function(){return(0,o.dd)(b)}},95658:(e,t,r)=>{r.d(t,{V:()=>v});var n=r(67294),i=r(94184),o=r.n(i),a=r(86013),s=r(24185),c=r(23557),l=r(98338),u=r(39068),d=r(81786),f=r(8246),m=r(53344),p=r(85893);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(){var e=(0,l.wh)(),t=e.currentCommunity,r=e.currentCommunityMember,i=h((0,n.useState)(!1),2),b=i[0],v=i[1],y=(0,s.k6)(),g=(0,s.TH)(),x=(0,c.w)({id:null===t||void 0===t?void 0:t.id}),j=x.data,O=x.isLoading,w=(0,n.useMemo)((function(){if(!j)return{isAdminOnlyRoute:!1,matchedLinkId:0};var e=j.find((function(e){return"admin_only"===e.visibility&&("custom"===e.kind?e.url===g.pathname:m._[e.kind]===g.pathname)}));return{isAdminOnlyRoute:!!e,matchedLinkId:e?e.id:null,isCircleDirectoryLink:"custom"!==(null===e||void 0===e?void 0:e.kind)}}),[j,g.pathname]),k=w.isAdminOnlyRoute,_=w.matchedLinkId,N=w.isCircleDirectoryLink;(0,n.useEffect)((function(){var e=null;return k?e=setTimeout((function(){return v(!0)}),100):v(!1),function(){e&&clearTimeout(e)}}),[k]);var P=(0,n.useCallback)((function(){y.push("/settings/navigation?selectedLinkId=".concat(_,"&isCircleDirectoryLink=").concat(N))}),[y,_,N]);return k&&!O&&(0,u.vb)(r)?(0,p.jsx)("div",{className:o()("bg-dark-primary-button","absolute bottom-6 left-1/2 -translate-x-1/2","h-12 rounded-full px-7 py-3","transition-all duration-150 ease-out","flex items-center justify-center","z-50 min-w-[25rem]",{"translate-y-0 opacity-100":b,"translate-y-full opacity-0":!b}),children:(0,p.jsxs)(f.Z.LabelSm,{weight:"medium",color:"text-badge",children:[(0,a.t)("settings.navigation.admin_only_route_floating_bar.description")," ",(0,p.jsx)(d.z,{variant:"link",className:"!text-link !p-0 !font-medium",onClick:P,children:(0,a.t)("settings.navigation.admin_only_route_floating_bar.cta_text")})]})}):null}},78596:(e,t,r)=>{r.d(t,{d:()=>w});var n=r(67294),i=r(23557),o=r(98338),a=r(39068),s=r(25954),c=r(37447),l=r(54030),u=2,d=3,f=4,m=5,p=6,h=function(){var e=(0,o.wh)(),t=e.currentCommunity,r=e.currentCommunitySettings,i=e.currentCommunityMember,s=Boolean((0,a.vb)(i)),h=(0,o.nT)().helpers,b=h.spaceVisibleOnSidebar,v=h.isLoading,y=Boolean(null===t||void 0===t?void 0:t.home_page_enabled),g=(t||{}).default_existing_member_space_id,x=(0,a.VP)(i,r),j=(0,a.mf)(i,r),O=(0,a.aj)(i,t),w=(0,a.B9)(t),k=s||(j||O||x),_=(0,l.XL)(),N=(0,l.J8)(),P=(0,l.z_)(),C=(0,l.Ih)(),S=(0,n.useMemo)((function(){return C?p:P?m:N?f:_?d:u}),[_,P,N,C]);return{homeLinkTo:(0,n.useMemo)((function(){var e=b();if(v||0===g||!e)return y?c.Fy.feed():"/";var t=e.find((function(e){return e.id===g}));return null!==t&&void 0!==t&&t.slug?"/c/".concat(t.slug):y||e.length>0?c.Fy.feed():"/"}),[g,v,b,y]),shouldShowHomeLink:k,shouldShowMembersLink:x,shouldShowAllEventsLink:j,shouldShowCoursesLink:O,shouldShowLeaderboardLink:w,maxVisibleLinks:S}},b=r(53344),v=function(e){return"enabled"===e.visibility},y=function(e){return"disabled"===e.visibility},g=function(e){return function(t){return t.kind===e}},x=function(){var e=h().shouldShowLeaderboardLink;return function(t){return g("leaderboard")(t)?e&&!y(t):!y(t)}},j=function(){var e=h(),t=e.shouldShowMembersLink,r=e.shouldShowAllEventsLink,n=e.shouldShowCoursesLink,i=e.shouldShowLeaderboardLink;return function(e){return g("members")(e)?t&&v(e):g("events")(e)?r&&v(e):g("courses")(e)?n&&v(e):g("leaderboard")(e)?i&&v(e):!y(e)&&!function(e){return"admin_only"===e.visibility}(e)}},O=function(e){var t=e.headerNavItems,r=e.isDisabled,i=e.homeLinkTo,o=e.isHomeLinkActive,a=e.isCommunityAdmin,s=x(),c=j();return(0,n.useMemo)((function(){var e=function(e,t){var r;return null!==(r=null===e||void 0===e?void 0:e.map((function(e){var r,n=e.url;return"home"===e.kind?n=t:"custom"!==e.kind&&(n=b._[e.kind]),{id:e.id,community_id:e.community_id,name:e.name,url:null!==(r=n)&&void 0!==r?r:"",open_in_new_window:e.open_in_new_window,visibility:e.visibility,kind:e.kind}})))&&void 0!==r?r:[]}(t,i),n=a?s:c;return e.filter(n).map(function(e,t){return function(r){return{linkTo:r.url,label:r.name,isPresent:!0,isDisabled:e,isActive:!!g("home")(r)&&t,kind:r.kind,visibility:r.visibility,openInNewWindow:r.open_in_new_window}}}(r,o))}),[t,r,i,o,a,s,c])},w=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isDisabled,t=void 0!==e&&e,r=(0,o.wh)(),c=r.currentCommunity,l=r.currentCommunityMember,u=h(),d=u.homeLinkTo,f=u.maxVisibleLinks,m=(0,i.w)({id:null===c||void 0===c?void 0:c.id}),p=m.data,b=m.isLoading,v=(0,s.H)(),y=v.isFeedRoute,g=v.isSpaceRoute,x=v.isSpaceGroupRoute,j=v.isGettingStartedRoute,w=O({headerNavItems:null!==p&&void 0!==p?p:[],isDisabled:t,homeLinkTo:d,isHomeLinkActive:t||g||x||y||j,isCommunityAdmin:(0,a.vb)(l)}),k=(0,n.useMemo)((function(){return w.length<=f+1?{visibleLinks:w,hiddenLinks:[]}:{visibleLinks:w.slice(0,f),hiddenLinks:w.slice(f)}}),[w,f]),_=k.visibleLinks,N=k.hiddenLinks,P=w.filter((function(e){return["events","courses","leaderboard","members"].includes(e.kind)})),C=P.filter((function(e){return!e.isDisabled})),S=P.filter((function(e){return!e.isDisabled&&"admin_only"!==e.visibility})),I=w.find((function(e){return"events"===e.kind})),L=w.find((function(e){return"courses"===e.kind})),D=w.find((function(e){return"leaderboard"===e.kind})),T=w.find((function(e){return"members"===e.kind}));return{courseLink:L,enabledCustomLinks:w.filter((function(e){return"custom"===e.kind&&!e.isDisabled})),eventLink:I,hiddenLinks:N,isLoadingLinks:b,leaderboardLink:D,links:w,maxVisibleLinks:f,memberDirectoryLink:T,visibleLinks:_,adminVisiblePlatformLinks:C,memberVisiblePlatformLinks:S}}},46975:(e,t,r)=>{r.d(t,{v:()=>L});var n=r(78596),i=r(86215),o=r(47031),a=r(94184),s=r.n(a),c=r(86013),l=r(166),u=r(18605),d=r(71714),f=r(40160),m=r(85893);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){var t=e.linkTo,r=e.label,n=e.isActive,i=void 0!==n&&n,o=e.isDisabled,a=void 0!==o&&o,c=e.dataTestId,l=e.isFullRounded,u=void 0===l||l,d=e.openInNewWindow,p=void 0!==d&&d,b=e.kind,v=e.visibility,y=e.onClick,g=void 0===y?function(){}:y,x="home"===b&&"/"===t,j=s()("text-xs-plus h-8.5 flex items-center px-4 py-2 font-medium transition-colors duration-150","focus-visible:outline-secondary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2","hover:bg-c-header-hover text-c-header hover:text-c-header-active focus:text-c-header-active focus:bg-c-header-hover",{"!rounded-lg":!u,"!rounded-full":u}),O=h({onClick:function(e){a?e.preventDefault():null===g||void 0===g||g()},tabIndex:a?-1:0,title:r,"data-testid":c},p&&{target:"_blank",rel:"noopener noreferrer"}),w="admin_only"===v?{visibility:"admin_only"}:void 0;return"custom"===b||x?(0,m.jsx)("a",h(h({href:t},O),{},{className:s()(j,{"!bg-c-header-active hover:!bg-c-header-active !text-c-header-active hover:!text-c-header-active focus:!text-c-header-active":void 0!==i&&i}),children:r})):(0,m.jsx)(f.OL,h(h({to:{pathname:t,state:w}},O),{},{className:function(e){return s()(j,{"!bg-c-header-active hover:!bg-c-header-active !text-c-header-active hover:!text-c-header-active focus:!text-c-header-active":i||e})},"aria-current":i?"page":void 0,children:r}))};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(e){var t=e.items,r=e.isPreviewMode,n=void 0!==r&&r,a=(0,l.RE)().borderColor;return(0,m.jsx)(i.J,{className:"relative",children:function(e){var r=e.open,l=e.close;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(i.J.Button,{disabled:n,className:s()("text-xs-plus h-8.5 focus-visible:outline-secondary flex items-center !rounded-full py-2 pl-4 pr-2 font-medium transition-colors duration-150 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2","hover:bg-c-header-hover text-c-header hover:text-c-header-active focus:text-c-header-active focus:bg-c-header-hover",{"bg-c-header-hover text-c-header-active":r}),children:(0,m.jsxs)("span",{className:"flex gap-0.5",children:[(0,c.t)(["header_v3.navigation","more"]),(0,m.jsx)(u.JO,{type:"12-chevron-down-v3",className:"!transition-none",size:12})]})}),(0,m.jsx)(o.u,g(g({},d.E6),{},{children:(0,m.jsx)(i.J.Panel,{className:"bg-c-header absolute right-0 top-1.5 flex w-max flex-col rounded-2xl border p-4 shadow-lg",style:{borderColor:a},children:t.map((function(e){var t=e.linkTo,r=e.label,n=e.kind,i=e.visibility,o=e.openInNewWindow;return(0,m.jsx)(v,{label:r,linkTo:t,isFullRounded:!1,isActive:!1,onClick:l,kind:n,visibility:i,openInNewWindow:o},t)}))})}))]})}})},O=r(96486);function w(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _=function(e){var t=e.count;return(0,m.jsx)("ul",{className:"absolute inset-1/2 top-0 flex h-full w-full -translate-x-1/2 list-none items-center justify-center gap-2",children:w(Array(t)).map((function(e,t){return(0,m.jsx)("li",{className:"h-8.5 bg-tertiary w-16 animate-pulse rounded-full"},(0,O.uniqueId)("skeleton-loader-".concat(t)))}))})},N=["linkTo","label","visibility"];function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var L=function(e){var t=e.isPreviewMode,r=void 0!==t&&t,i=(0,n.d)({isDisabled:r}),o=i.isLoadingLinks,a=i.visibleLinks,s=i.hiddenLinks,c=i.maxVisibleLinks;return o?(0,m.jsx)(_,{count:c}):(0,m.jsxs)("ul",{className:"absolute inset-1/2 top-0 flex h-full w-full -translate-x-1/2 list-none items-center justify-center gap-2","data-testid":"header-navigation-bar",children:[a.map((function(e){var t=e.linkTo,r=e.label,n=e.visibility,i=I(e,N);return(0,m.jsx)("li",{className:"flex",children:(0,m.jsx)(v,C({linkTo:t,label:r,visibility:n},i))},t)})),s.length>0&&(0,m.jsx)("li",{children:(0,m.jsx)(j,{items:s,isPreviewMode:r})})]})}},48637:(e,t,r)=>{r.r(t),r.d(t,{BookmarksList:()=>K,default:()=>Y});var n=r(54030),i=r(86013),o=r(8246),a=r(85893),s=function(){return(0,a.jsx)("div",{className:"flex items-center justify-between px-6 pb-2 pt-5",children:(0,a.jsx)(o.Z.LabelLg,{weight:"medium",children:(0,i.t)("header_v3.bookmarks")})})},c=r(67294),l=r(96486),u=r(6952),d=r(58533),f=r(80549),m=r(13288),p=r(40160),h=r(95287),b=r(18605),v=r(38704),y={post:(0,i.t)("bookmarks.singular.post"),comment:(0,i.t)("bookmarks.singular.comment"),event:(0,i.t)("bookmarks.singular.event"),lesson:(0,i.t)("bookmarks.singular.lesson"),message:(0,i.t)("bookmarks.singular.message")},g=function(e){var t,r,n=e.children,s=e.bookmark,c=e.bookmarkType,u=(null!==(t=(0,v.wO)())&&void 0!==t?t:{}).onClose,d=void 0===u?l.noop:u;return null===s.bookmark_record&&s.is_deleted?(0,a.jsxs)("div",{className:"bg-tertiary flex w-full items-center rounded-md px-2 py-3",children:[(0,a.jsx)(b.JO,{type:"16-trash-bin",size:16,className:"mr-1"}),(0,a.jsx)(o.Z.LabelSm,{weight:"medium",color:"text-default",children:(0,i.t)("bookmarks.errors.content_removed",{type:y[c]})})]}):(0,a.jsx)(p.rU,{to:(null===(r=s.bookmark_record)||void 0===r?void 0:r.show_url)||"",className:"w-full",onClick:function(e){(0,h.n2)(e)||d()},children:n})},x=r(94184),j=r.n(x),O=r(88767),w=r(74131),k=r(92041),_=r(55004),N=r(5036),P=r(98338),C=r(84710),S=r(59887),I=r(54482),L=r(27025),D=function(e){var t=e.bookmarkId,r=e.bookmarkType,o=e.bookmarkRecord,s=e.recordId,c=(0,n.en)(),l=(0,O.useQueryClient)(),u=(0,P.wh)().currentCommunitySettings,d=null===u||void 0===u?void 0:u.tailwind_posts_enabled,m=d?N.kW:k.k,p=d?_.z:w.z,h=(0,f.S)({bookmarkId:t,bookmarkType:r,onSuccess:function(){"post"!==r&&"event"!==r||(0,C.o1)({postId:s,queryClient:l}).forEach((function(e){l.invalidateQueries(e)}));"comment"===r&&o&&"post_id"in o&&(l.refetchQueries(m({postId:o.post_id,parentCommentId:o.parent_comment_id})),l.refetchQueries(p({postId:o.post_id,id:o.id}))),"message"===r&&s&&S.Kb.toggleMessageBookmark(s),b()}}),b=h.resetQuery,v=h.deleteBookmark;return(0,a.jsx)(L.Lt,{size:"medium",direction:"bottom-end",className:j()("h-6 w-6",{"invisible group-hover:visible":c}),button:(0,a.jsx)(I.h,{name:"16-menu-dots-horizontal",ariaLabel:(0,i.t)("options_dropdown")}),transitionWrapperClassName:"z-30",children:(0,a.jsx)(L.Lt.ItemLink,{onClick:function(e){v(),e.stopPropagation()},children:(0,i.t)("bookmarks.actions.remove")})})},T=r(36298),E=r(64422),A=function(e){var t,r=null!==(t=e.bookmark.bookmark_record)&&void 0!==t?t:{},n=r.created_at,s=r.title,c=r.author_image,l=r.author_name,u=r.plain_text_body,d=r.attachment_count,f=(0,T.w)({dateTime:n?new Date(n):new Date,format:"long_date"}),m=Boolean(d&&d>0);return(0,a.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,a.jsx)("div",{className:"py-1",children:(0,a.jsx)(o.Z.LabelXs,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-1",children:s})})}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(E.s,{src:null!==c&&void 0!==c?c:"",name:null!==l&&void 0!==l?l:"",size:"10"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)(o.Z.LabelSm,{weight:"semibold",children:l}),(0,a.jsx)(o.Z.LabelXs,{color:"text-default",children:f})]}),u&&""!==u.trim()?(0,a.jsx)(o.Z.LabelSm,{color:"text-default",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:u})}):m&&(0,a.jsx)(o.Z.LabelSm,{color:"text-default",children:(0,i.t)("bookmarks.attachments_count",{count:d})})]})]})]})},M=r(9069),z=r(39639),B=function(e){var t=e.bookmark;if(!t.bookmark_record)return(0,a.jsx)(a.Fragment,{});var r=t.bookmark_record,n=r.title,i=r.start_date,s=r.starts_at,c=r.ends_at,l=r.time_zone,u=r.time_zone_abbreviations,d=void 0===u?"":u,f=(0,z.Dk)(s,l),m=(0,z.Dk)(c,l),p="".concat(f," - ").concat(m," ").concat(d);return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(M.m,{dateString:null!==i&&void 0!==i?i:""})}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,a.jsx)(o.Z.LabelSm,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:n})}),(0,a.jsx)(o.Z.LabelXs,{color:"text-light",children:p})]})]})},R=function(e){var t,r=null!==(t=e.bookmark.bookmark_record)&&void 0!==t?t:{},n=r.title,i=r.section,s=r.course;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(o.Z.LabelXs,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:s})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(o.Z.LabelSm,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:n})}),(0,a.jsx)(o.Z.LabelXs,{color:"text-default",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:i})})]})]})},Z=function(e){var t,r=null!==(t=e.bookmark.bookmark_record)&&void 0!==t?t:{},n=r.title,i=r.author_image,s=r.author_name,c=r.body_text;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(o.Z.LabelXs,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:n})}),(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[s&&(0,a.jsx)("div",{className:"shrink-0 pt-0.5",children:(0,a.jsx)(E.s,{name:s,src:null!==i&&void 0!==i?i:"",size:"10"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(o.Z.LabelSm,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:s})}),(0,a.jsx)(o.Z.LabelSm,{color:"text-default",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:c})})]})]})]})},H=r(1741),V=function(e){var t=e.gallery,r=e.attachmentCount,n=t.slice(0,5),i=r-5;return(0,a.jsx)("div",{className:"flex space-x-2",children:n.map((function(e,t){return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{loading:"lazy",src:e.url,alt:e.alt_text||"",className:"aspect-square h-16 w-16 rounded-md object-cover"}),4===t&&i>0&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/40",children:(0,a.jsx)("span",{className:"font-bold text-white",children:"+".concat(i)})})]},e.id)}))})},F=function(e){var t,r=null!==(t=e.bookmark.bookmark_record)&&void 0!==t?t:{},n=r.created_at,s=r.title,c=r.author_image,l=r.author_name,u=r.plain_text_body,d=r.attachment_count,f=r.gallery,m=(0,T.w)({dateTime:n?new Date(n):new Date,format:"long_date"}),p=Boolean(d&&d>0);return(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(E.s,{src:null!==c&&void 0!==c?c:"",name:null!==l&&void 0!==l?l:"",size:"10"}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.5",children:[s&&(0,a.jsx)(o.Z.LabelSm,{weight:"semibold",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:s})}),!!f&&(0,a.jsx)(V,{gallery:f,attachmentCount:d}),u&&""!==u.trim()?(0,a.jsx)(o.Z.LabelSm,{color:"text-default",children:(0,a.jsx)("span",{className:"line-clamp-2 leading-5",children:u})}):p&&!f&&(0,a.jsx)(o.Z.LabelSm,{color:"text-default",children:(0,i.t)("bookmarks.attachments_count",{count:d})}),(0,a.jsxs)(o.Z.LabelXs,{color:"text-default",children:[l," ",(0,a.jsx)(H.G,{className:"text-sm font-semibold"})," ",m]})]})]})},U=function(e){var t=e.bookmark;switch(t.bookmark_type){case"post":return(0,a.jsx)(F,{bookmark:t});case"comment":return(0,a.jsx)(A,{bookmark:t});case"event":return(0,a.jsx)(B,{bookmark:t});case"lesson":return(0,a.jsx)(R,{bookmark:t});case"message":return(0,a.jsx)(Z,{bookmark:t});default:return(0,a.jsx)(a.Fragment,{})}},J=function(e){var t=e.children;return(0,a.jsx)("div",{className:"mt-2 flex h-[calc(100%-100px)] w-full flex-col justify-between space-y-px overflow-y-auto px-2 pb-2",id:"user-bookmarks-panel-header",children:t})},W=function(e){var t=e.activeTab;return(0,a.jsxs)("div",{className:"mt-2 flex h-[calc(100%-100px)] w-full flex-col items-center justify-center space-y-2 px-6 pb-2 text-center",children:[(0,a.jsx)(o.Z.TitleMd,{children:(0,i.t)("header_v3.no_bookmarks_by_type.".concat(t))}),(0,a.jsx)(o.Z.BodyMd,{children:(0,i.t)("header_v3.no_bookmarks_description_by_type.".concat(t))})]})},q=function(e){var t=e.activeTab,r=void 0===t?"post":t,n=(0,f.S)({bookmarkType:r}),i=n.getBookmarks,o=n.hasNextPage,s=n.fetchNextPage,l=n.isLoading;(0,c.useEffect)((function(){r&&i()}),[r,i]);var u=i();return l?(0,a.jsx)(J,{children:(0,a.jsx)(m.a,{center:!0})}):u.length?(0,a.jsx)(J,{children:(0,a.jsx)(d.Z,{next:s,hasMore:!!o,loader:(0,a.jsx)(m.a,{center:!0}),dataLength:u.length,style:{overflow:"initial"},scrollableTarget:"user-bookmarks-panel-header",children:u.map((function(e){return(0,a.jsxs)("div",{className:"hover:bg-tertiary focus-visible:bg-tertiary group flex w-full items-start justify-between rounded-md px-4 py-3 transition-colors duration-200 ease-in-out",children:[(0,a.jsx)(g,{bookmark:e,bookmarkType:r,children:(0,a.jsx)("div",{className:"flex items-start",children:(0,a.jsx)("div",{className:"flex w-full flex-col space-y-1","data-testid":"bookmarks-details",children:(0,a.jsx)(U,{bookmark:e})})})}),(0,a.jsx)("div",{children:(0,a.jsx)(D,{recordId:e.record_id,bookmarkId:e.id,bookmarkType:r,bookmarkRecord:e.bookmark_record})})]},e.id)}))})}):(0,a.jsx)(W,{activeTab:r})};function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Q=[{value:"post",label:(0,i.t)("bookmarks.plural.posts")},{value:"comment",label:(0,i.t)("bookmarks.plural.comments")},{value:"event",label:(0,i.t)("bookmarks.plural.events")},{value:"lesson",label:(0,i.t)("bookmarks.plural.lessons")},{value:"message",label:(0,i.t)("bookmarks.plural.messages")}],$=function(){var e,t=G((0,c.useState)("post"),2),r=t[0],n=t[1];return(0,a.jsxs)(u.O.Group,{className:"overflow-hidden",selectedIndex:(e=r,Q.findIndex((function(t){return t.value===e}))),children:[(0,a.jsx)("div",{className:"border-primary border-b px-6",children:(0,a.jsx)(u.O.List,{children:Q.map((function(e){return(0,a.jsx)(u.O,{className:"text-sm",onClick:function(){return n(e.value)},children:(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,l.capitalize)(e.label)})},e.value)}))})}),(0,a.jsx)(q,{activeTab:r})]})},K=function(){var e=(0,n.BT)();return(0,a.jsxs)(a.Fragment,{children:[!e&&(0,a.jsx)(s,{}),(0,a.jsx)($,{})]})};const Y=K},65210:(e,t,r)=>{r.d(t,{G:()=>W});var n=r(86013),i=r(14886),o=r(22339),a=r(73183),s=r(57526),c=r(78208),l=r(18605),u=r(6952),d=r(67294),f=r(58533),m=r(24185),p=r(74666),h=r(34914),b=r(404),v=r(8246),y=r(98338),g=r(73890),x=r(27434),j=r(78417),O=r(13288),w=r(38704),k=r(18802),_=r(85893),N=function(e){var t,r=e.isDirect,i=e.chatRoomName,o=e.timestamp,a=e.lastMessage,s=e.currentCommunityMember,c=e.isPinned;return(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"flex space-x-2",children:[(0,_.jsx)(v.Z.BodySm,{truncate:!0,weight:"font-medium",children:i}),(0,_.jsx)(v.Z.BodyXs,{as:"time",weight:"font-medium",color:"text-light",children:o}),c&&(0,_.jsx)(l.JO,{type:"pin","aria-label":(0,n.t)("messaging.pinned_message"),"aria-hidden":!1})]}),(0,_.jsx)("div",{className:"mt-0.5",children:(0,_.jsx)("p",{className:"text-default !line-clamp-1 flex max-w-[400px] items-center overflow-hidden hyphens-auto break-words text-sm",children:"".concat(r?"":a.sender.community_member_id===(null===s||void 0===s?void 0:s.id)?"".concat((0,n.t)("messaging.you"),": "):"".concat(a.sender.name,": ")).concat(a.body?a.body:null===(t=a.rich_text_body)||void 0===t?void 0:t.circle_ios_fallback_text)})})]})},P=function(e){var t=e.isDirect,r=e.otherParticipants,i=e.chatRoomName,o=e.timestamp,a=e.lastMessage,s=e.currentParticipant,c=e.unreadMessagesCount,u=e.currentCommunityMember,d=e.isPinned,f=void 0!==d&&d;return(0,_.jsxs)("div",{className:"flex w-full items-start justify-between",children:[(0,_.jsxs)("div",{className:"flex items-center space-x-3","data-testid":"direct-message-details",children:[(0,_.jsx)(k.q,{isDirect:t,otherParticipants:r}),(0,_.jsx)(N,{isDirect:t,chatRoomName:i,timestamp:o,lastMessage:a,currentCommunityMember:u,isPinned:f})]}),(0,_.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:s.muted?(0,_.jsx)(l.JO,{type:"mute-notifications","aria-label":(0,n.t)("header_v3.muted"),size:14}):c>0&&(0,_.jsx)("span",{className:"bg-messaging-info-blue inline-block h-2 w-2 rounded-full","data-testid":"unread-messages-count"})})]})},C=r(96486),S=r(40160),I=r(50732),L=r(95287),D=function(e){var t=e.children,r=e.onClose,n=void 0===r?C.noop:r,i=e.uuid;return(0,_.jsx)(S.rU,{className:"hover:bg-tertiary focus-visible:bg-tertiary flex cursor-pointer items-start justify-between rounded-md px-4 py-3 transition-colors duration-200 ease-in-out",onClick:function(e){(0,L.n2)(e)||n()},to:(0,I.co)({url:(0,I.so)({uuid:i})}),"data-testid":"chat-room-dm-list",children:t})},T=r(81786),E=r(94184),A=r.n(E),M=function(){return Boolean(document.getElementById(p.B7))},z=function(e){var t=e.children,r=e.className;return(0,_.jsx)("div",{className:A()("w-full space-y-0.5 overflow-y-auto px-2 lg:h-[calc(100%-113px)]",{"h-[calc(100dvh-169px)]":!M(),"h-[calc(100dvh-232px)]":M()},r),id:"scrollable-dms-div",children:t})},B=function(){var e=(0,m.k6)();return(0,_.jsxs)(z,{className:"flex flex-col items-center justify-center !space-y-4",children:[(0,_.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,_.jsx)(v.Z.TitleMd,{weight:"font-bold",children:(0,n.t)("messaging.no_messages")}),(0,_.jsx)(v.Z.BodyMd,{children:(0,n.t)("header_v3.send_new_dm_description")})]}),(0,_.jsx)(T.z,{className:"mt-4",onClick:function(){e.push((0,I.W9)())},children:(0,n.t)("header_v3.send_new_dm")})]})};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=function(e){var t=e.unreadChatRoomUuids,r=(0,m.UO)().uuid,n=((0,w.wO)()||{}).onClose,i=(0,y.wh)(),o=i.currentCommunityMember,a=i.isLoading,s=(i.currentCommunitySettings||{}).community_bot_enabled,c=(0,x.T)({openChatRoomUuid:r&&"new"!==r?r:null,uuids:null===t||void 0===t?void 0:t.slice(0,2e3)}),l=c.chatRooms,u=c.hasNextPage,v=c.isLoading,j=c.onEventReceive,k=c.fetchNextPage;(0,h.s)({channel:"ChatRoomChannel",onMessageReceive:function(e){j(e,null===o||void 0===o?void 0:o.id)},community_member_id:null===o||void 0===o?void 0:o.id,canCreateConnection:!0},[l]);var N=a||v,C=(0,d.useMemo)((function(){return l.filter((function(e){return e.last_message}))}),[l]);return N?(0,_.jsx)(z,{children:(0,_.jsx)(O.a,{center:!0})}):C.length?(0,_.jsxs)(z,{children:[s&&(0,_.jsx)(b.O,{}),(0,_.jsx)(f.Z,{style:{height:"100%",overflow:"hidden",marginTop:"8px"},scrollThreshold:.8,next:k,hasMore:u,dataLength:C.length,scrollableTarget:"scrollable-dms-div",loader:(0,_.jsx)(O.a,{center:!0}),children:C.map((function(e){var t=e.chat_room_name,r=e.chat_room_kind,i=e.last_message,a=e.current_participant,s=void 0===a?{}:a,c=e.other_participants_preview,l=void 0===c?[]:c,u=e.id,d=e.unread_messages_count,f=e.uuid,m=e.pinned_at,h=r===p.g8;return(0,_.jsx)(D,{onClose:n,uuid:f,children:(0,_.jsx)(P,{chatRoomName:t,lastMessage:i,currentParticipant:s,otherParticipants:l,isDirect:h,unreadMessagesCount:d,timestamp:(0,g.TF)(null===i||void 0===i?void 0:i.created_at,{format:"short"}),currentCommunityMember:o,isPinned:!!m})},u)}))})]}):(0,_.jsx)(z,{children:(0,_.jsx)(B,{})})},F=function(){return(0,_.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:(0,_.jsx)(v.Z.LabelSm,{children:(0,n.t)("chat_space.error_message")})})},U=function(e){return(0,_.jsx)(j.S,{renderFunc:F,children:(0,_.jsx)(V,Z({},e))})},J=function(){return(0,_.jsx)("div",{className:"flex h-full w-full flex-col items-center justify-start pt-12",children:(0,_.jsx)(v.Z.LabelSm,{children:(0,n.t)("messaging.no_messages")})})},W=function(e){var t=e.className,r=void 0===t?"":t,d=(0,s.K)().unreadChatRoomUuids,f=void 0===d?[]:d,m=f.length,p=(0,c.gq)().showMessagesTab,h=(0,c.fP)();return(0,_.jsxs)(u.O.Group,{className:"bg-primary overflow-hidden",children:[(0,_.jsx)("div",{className:"border-primary border-b px-6",children:(0,_.jsxs)(u.O.List,{children:[p&&(0,_.jsx)(u.O,{className:r,children:(0,n.t)("messaging.inbox")}),p&&(0,_.jsx)(u.O,{className:r,children:(0,_.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.t)("messaging.unread"),(0,_.jsx)(o.T,{count:(0,a.o)(m)})]})}),h&&(0,_.jsxs)(u.O,{children:[(0,n.t)("messaging.agents")," ",(0,_.jsx)(l.JO,{type:"16-stars-ai",size:16})]})]})}),(0,_.jsxs)(u.O.Panels,{children:[p&&(0,_.jsx)(u.O.Panel,{children:(0,_.jsx)(U,{})}),p&&(0,_.jsx)(u.O.Panel,{children:0===m?(0,_.jsx)(z,{children:(0,_.jsx)(J,{})}):(0,_.jsx)(U,{unreadChatRoomUuids:f})}),(0,_.jsx)(u.O.Panel,{children:(0,_.jsx)(z,{children:(0,_.jsx)(i.x,{})})})]})]})}},13909:(e,t,r)=>{r.d(t,{D:()=>x});var n=r(94184),i=r.n(n),o=r(86013),a=r(24185),s=r(64660),c=r(98338),l=r(50732),u=r(36589),d=r(64422),f=r(27025),m={strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,-1]}}]},p=r(67294),h={authenticationIcon:"16-lock-unlocked",billingIcon:"credit-card",paywallsAffiliatesIcon:"16-paywalls-affiliates",viewProfileIcon:"16-account",editProfileIcon:"16-edit",notificationIcon:"sidebar-bell",signOutIcon:"16-sign-out"},b={authenticationIcon:"20-locker-closed-v3",billingIcon:"20-card-v3",paywallsAffiliatesIcon:"20-affiliates-v3",viewProfileIcon:"20-user-v3",editProfileIcon:"20-edit-v3",notificationIcon:"20-bell-v3",signOutIcon:"20-sign-out-v3"},v=r(85893);function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=function(e){var t=e.isPreviewMode,r=void 0!==t&&t,n=(0,a.TH)(),g=(0,a.k6)(),x=(0,u.I)(),j=x.isV3Enabled,O=x.iconSize,w=(0,c.wh)(),k=w.currentCommunityMember,_=w.isViewOnlyMasquerading,N=(0,s.r)().show,P=function(){var e=(0,u.I)().isV3Enabled;return(0,p.useMemo)((function(){return e?b:h}),[e])}(),C=P.authenticationIcon,S=P.billingIcon,I=P.paywallsAffiliatesIcon,L=P.viewProfileIcon,D=P.editProfileIcon,T=P.notificationIcon,E=P.signOutIcon,A=(null===k||void 0===k?void 0:k.policies)||{},M=A.can_access_billing,z=A.can_access_authentication_page,B=A.can_show_paywalls_affiliate,R=function(){window.location.href=(0,l.jE)()},Z=function(){return g.push(l.du.profile(n))},H=[].concat(y([{value:(0,o.t)("view_profile"),label:(0,o.t)("view_profile"),onClick:function(){return N({memberPublicId:null===k||void 0===k?void 0:k.public_uid})},icon:L,iconSize:O,dataTestId:"profile-link"},{value:(0,o.t)("edit_profile"),label:(0,o.t)("edit_profile"),onClick:Z,icon:D,iconSize:O,dataTestId:"edit-profile-link"},{value:(0,o.t)("notification"),label:(0,o.t)("notification"),pathTo:l.du.notifications(n),icon:T,iconSize:O,dataTestId:"notification-link"}]),y(z?[{value:(0,o.t)("authentication"),label:(0,o.t)("authentication"),pathTo:l.du.authentication(n),icon:C,iconSize:O,dataTestId:"authentication-link"}]:[]),y(M?[{value:(0,o.t)("billing"),label:(0,o.t)("billing"),pathTo:l.du.billing(n),icon:S,iconSize:O,dataTestId:"member-billing-link"}]:[]),y(B?[{value:(0,o.t)("member_profile_modal.affiliate_dashboard.title"),label:(0,o.t)("member_profile_modal.affiliate_dashboard.title"),pathTo:l.du.affiliate(n),icon:I,iconSize:O,dataTestId:"member-affiliate-link"}]:[]),y([{value:"separator"},{value:(0,o.t)("sign_out"),label:(0,o.t)("sign_out"),onClick:R,icon:E,iconSize:O}]));if(!k)return null;var V=k||{},F=V.avatar_url,U=V.name;return(0,v.jsx)(f.Lt,{direction:"top-start",className:i()({"pointer-events-none":r||_}),buttonLabel:(0,o.t)("user_menu_options"),button:(0,v.jsx)(d.s,{name:U,src:F,size:"8",isFullRounded:j}),buttonClassName:i()({"focus-visible:outline-secondary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 !rounded-full":j}),buttonWrapperClassName:i()("flex items-center",{"ml-4":!j}),popperOptions:m,transitionWrapperClassName:"z-30",menuWrapperClassName:i()({"!mt-2 !px-0":j}),dataTestId:"user-profile",children:(0,v.jsxs)("div",{"data-testid":"user-profile-menu",children:[!j&&(0,v.jsx)(f.Lt.Header,{children:(0,o.t)("header_v3.account")}),(0,v.jsx)(f.Lt.IconWithBadgeList,{options:H})]})})}},59219:(e,t,r)=>{r.d(t,{Q:()=>p});var n=r(94184),i=r.n(n),o=r(86013),a=r(73826),s=r(36589),c=r(18605),l=r(64626),u=r(85893);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t=e.isPreviewMode,r=void 0!==t&&t,n=e.isLarge,d=void 0!==n&&n,m=e.isDisabled,p=void 0!==m&&m,h=(0,a.D)(),b=(0,l.gn)(),v=(0,s.I)().isV3Enabled;return(0,u.jsxs)("div",{className:"group relative justify-self-center",children:[(0,u.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:(0,u.jsx)(c.JO,{type:v?"20-flux-search":"20-search-v3",size:20,className:i()("text-c-header group-hover:text-c-header-active group-focus-within:text-c-header-active transition-colors duration-150")})}),(0,u.jsx)("button",{type:"button",disabled:p,className:i()("border-primary hover:bg-c-header-hover focus-visible:bg-c-header-hover text-c-header hover:text-c-header-active focus:text-c-header-active hover:border-primary focus-visible:!outline-secondary text-xs-plus flex h-9 items-center rounded-full border py-2 pl-10 font-medium transition-colors duration-150 focus-visible:!outline focus-visible:!outline-2 focus-visible:!outline-offset-2",{"w-32":!d,"w-[26.125rem]":d}),onClick:function(){return!r&&void h.show()},style:f({},b),children:(0,o.t)("search_item")})]})}},10793:(e,t,r)=>{r.d(t,{K:()=>l});var n=r(94184),i=r.n(n),o=r(64626),a=r(85893);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=function(){var e=(0,o.gn)().borderColor;return(0,a.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:i()("h-5 w-0.5 rounded-full",{"bg-tertiary":!e})},e&&{style:{backgroundColor:e}}))}},53344:(e,t,r)=>{r.d(t,{P:()=>n,_:()=>i});var n=["/live/:roomSlug/not_supported","/live/:roomSlug/record","/live/:roomSlug/mobile","/live/:roomSlug/public","/live/:roomSlug","/features/visual-refresh"],i={members:"/members",events:"/events",courses:"/courses",leaderboard:"/leaderboard",home:"/feed"}},22344:(e,t,r)=>{r.d(t,{G:()=>Ot});var n,i=r(24185),o=r(50020),a=r(98338),s=r(68997),c=r(18701),l=r(36589),u=r(54030),d=r(38503),f=r(15906),m=r(4723),p=r(46649),h=r(93233),b=r(86013),v=r(94281),y=r(54482),g=r(11642),x=r(85893),j=function(){var e=(0,g.v)();return(0,x.jsx)(f.Z,{children:(0,x.jsx)(v.T,{interactive:!1,content:(0,b.t)("header_v3.keyboard_shortcuts"),children:(0,x.jsx)(y.h,{name:"16-keyboard-shortcuts",buttonSize:28,iconClassName:"!text-c-header",className:"hover:!bg-c-header-hover focus-visible:!bg-c-header-hover focus:!bg-c-header-hover rounded-md",onClick:e.show,ariaLabel:(0,b.t)("header_v3.keyboard_shortcuts"),dataTestId:"keyboard-shortcuts"})})})},O=r(70815),w=function(){return(0,x.jsx)("div",{className:"absolute left-5",children:(0,x.jsx)(O.J,{})})},k=r(46975),_=r(94184),N=r.n(_),P=r(20474),C=r(29402),S=r(38704),I={strategy:"fixed",placement:"bottom-end",modifiers:[{name:"offset",options:{offset:[0,4]}}]},L=r(48637),D=r(67294),T=r(95172),E=function(e){var t=e.isOpen,r=void 0!==t&&t,n=(0,D.useRef)(null),i=(0,l.I)().isV3Enabled;return(0,T.y1)("alt+b",(function(){var e;null===(e=n.current)||void 0===e||e.click()}),[n]),(0,x.jsx)("div",{className:"relative",children:(0,x.jsx)(v.T,{interactive:!1,content:(0,b.t)("header_v3.bookmarks"),children:(0,x.jsx)(y.h,{name:i?"20-flux-bookmark":"16-bookmark",buttonSize:i?36:28,iconSize:i?20:16,className:N()("hover:!bg-c-header-hover focus:!bg-c-header-hover !rounded-md p-1.5 duration-150",{"!text-c-header hover:!text-c-header-active focus:!text-c-header-active":i,"!bg-c-header-active !text-c-header-active":i&&r}),iconClassName:N()({"!text-c-header":!i,"!text-inherit !transition-none":i}),ariaLabel:(0,b.t)("header_v3.bookmarks"),ref:n,dataTestId:"bookmarks-popover-button"})})})},A=function(){var e=(0,a.wh)(),t=e.currentCommunityMember,r=e.isViewOnlyMasquerading;return t?(0,x.jsx)(S.i9,{shouldCloseOnLocationChange:!0,renderButton:function(e){return(0,x.jsx)(E,{isOpen:e})},className:N()("border-primary bg-primary h-full max-h-[37rem] w-full max-w-[30rem] rounded-lg border shadow-lg",{"cursor-not-allowed":r}),popperOptions:I,shouldHideOnMdScreens:!1,children:(0,x.jsx)("div",{className:N()("h-full w-full",{"pointer-events-none":r}),"data-testid":"bookmarks-drawer",children:(0,x.jsx)(L.BookmarksList,{})})}):null},M=r(4443),z=r(59887),B=function(e){var t,r=e.count,n=e.dataTestId,i=(0,l.I)().isV3Enabled;return(0,x.jsx)("div",{className:N()("pointer-events-none absolute z-10",{"-right-1 -top-1":!i,"right-0.5 top-0.5":i}),"data-testid":n,children:(0,x.jsx)("span",{className:N()("bg-c-sidebar-badge text-c-sidebar-badge-text absolute right-0 top-0 inline-flex rounded-full",{"border-c-header-badge-indicator border":!i}),children:(0,x.jsx)("span",{className:"inline-block min-h-[1rem] min-w-[1rem] px-1 text-center text-[0.625rem] font-semibold leading-4",children:(t=r,t>99?"99+":t)})})})},R=function(e){var t=e.isOpen,r=void 0!==t&&t,n=(0,D.useRef)(null),i=(0,z.rZ)().unreadThreadsCount,o=(0,l.I)().isV3Enabled;return(0,T.y1)("alt+t",(function(){var e;null===(e=n.current)||void 0===e||e.click()}),[n]),(0,x.jsx)("div",{className:"relative",children:(0,x.jsxs)(v.T,{interactive:!1,content:(0,b.t)("header_v3.chat_threads"),children:[(0,x.jsx)(y.h,{name:o?"20-thread-v3":"16-chat-threads",buttonSize:o?36:28,iconSize:o?20:16,className:N()("hover:!bg-c-header-hover focus:!bg-c-header-hover !rounded-md p-1.5 duration-150",{"!text-c-header hover:!text-c-header-active focus:!text-c-header-active":o,"!bg-c-header-active !text-c-header-active":o&&r}),iconClassName:N()({"!text-c-header":!o,"!text-inherit !transition-none":o}),ariaLabel:(0,b.t)("header_v3.chat_threads"),dataTestId:"chat-threads-popover-button",ref:n}),i>0&&(0,x.jsx)(B,{count:i})]})})},Z=r(8246),H=function(){return(0,x.jsx)("div",{className:"border-primary flex items-center justify-start border-b px-6 py-[18px]",children:(0,x.jsx)(Z.Z.LabelLg,{weight:"medium",children:(0,b.t)("header_v3.chat_threads")})})},V=function(){var e,t=(0,a.wh)(),r=t.currentCommunityMember,n=t.isViewOnlyMasquerading,i=(0,z.rZ)().unreadChatCount;return(null===r||void 0===r||null===(e=r.policies)||void 0===e?void 0:e.can_access_threads_tab)||i>0?(0,x.jsx)(a.BD,{children:(0,x.jsx)(S.i9,{shouldCloseOnLocationChange:!0,renderButton:function(e){return(0,x.jsx)(R,{isOpen:e})},className:N()("border-primary bg-primary h-full max-h-[37rem] w-full max-w-[30rem] rounded-lg border shadow-lg",{"cursor-not-allowed":n}),popperOptions:I,shouldHideOnMdScreens:!1,children:(0,x.jsxs)("div",{className:N()("h-full w-full",{"pointer-events-none":n}),"data-testid":"chat-threads-drawer",children:[(0,x.jsx)(H,{}),(0,x.jsx)("div",{className:"bg-secondary h-[calc(100%-61px)] w-full overflow-y-auto rounded-b-lg p-3",id:"chat-threads-header",children:(0,x.jsx)(M.H,{isRenderedOnHeader:!0})})]})})}):null},F=r(78208),U=function(e){var t=e.isOpen,r=void 0!==t&&t,n=(0,D.useRef)(null),i=(0,z.K$)().unreadChatCount,o=(0,l.I)().isV3Enabled;return(0,T.y1)("alt+m",(function(){var e;null===(e=n.current)||void 0===e||e.click()}),[n]),(0,x.jsx)("div",{className:"relative",children:(0,x.jsxs)(v.T,{interactive:!1,content:(0,b.t)("header_v3.direct_messages"),children:[(0,x.jsx)(y.h,{name:o?"20-message-v3":"16-chat",buttonSize:o?36:28,iconSize:o?20:16,className:N()("hover:!bg-c-header-hover focus:!bg-c-header-hover !rounded-md p-1.5 duration-150",{"!text-c-header hover:!text-c-header-active focus:!text-c-header-active":o,"!bg-c-header-active !text-c-header-active":o&&r}),iconClassName:N()({"!text-c-header":!o,"!text-inherit !transition-none":o}),ariaLabel:(0,b.t)("header_v3.direct_messages"),dataTestId:"direct-messages-popover-button",ref:n}),i>0&&(0,x.jsx)(B,{count:i,dataTestId:"unread_direct_messages_count"})]})})},J=r(50732),W=function(){var e=(0,F.B5)(),t=(0,i.k6)();return(0,x.jsxs)("div",{className:"flex items-center justify-between px-6 pb-2 pt-5",children:[(0,x.jsx)(Z.Z.LabelLg,{weight:"medium",children:(0,b.t)("header_v3.direct_messages")}),e&&(0,x.jsx)(v.T,{interactive:!1,content:(0,b.t)("new_message"),children:(0,x.jsx)(y.h,{name:"20-add-lg",iconSize:20,ariaLabel:(0,b.t)("new_message"),onClick:function(){return t.push((0,J.W9)())},dataTestId:"new-message",iconClassName:"!text-dark"})})]})},q=r(65210),G=function(){var e=(0,F.gq)().shouldShowMessagingRoutes,t=(0,a.wh)().isViewOnlyMasquerading;return e?(0,x.jsx)(S.i9,{shouldCloseOnLocationChange:!0,renderButton:function(e){return(0,x.jsx)(U,{isOpen:e})},className:N()("border-primary bg-primary h-full max-h-[37rem] w-full max-w-[30rem] rounded-lg border shadow-lg",{"cursor-not-allowed":t}),popperOptions:I,shouldHideOnMdScreens:!1,children:(0,x.jsxs)("div",{className:N()("h-full w-full overflow-hidden",{"pointer-events-none":t}),"data-testid":"direct-messages-drawer",children:[(0,x.jsx)(W,{}),(0,x.jsx)(q.G,{className:"text-sm"})]})}):null},X=r(88767),Q=r(81089),$={mark_as_read:function(e){var t=e.id;return(0,Q.Cu)(J.BT.markAsRead({id:t}))},mark_all_as_read:function(){return(0,Q.Cu)(J.BT.markAllAsRead())},follow:function(e){var t=e.postId;return(0,Q.Cu)(J.BT.follow({postId:t}))},unfollow:function(e){var t=e.postId,r=e.followerId;return(0,Q.pC)(J.BT.unfollow({postId:t,followerId:r}))},archive:function(e){var t=e.id;return(0,Q.Cu)(J.BT.archive({id:t}))}},K=function(e){e.queryClient.invalidateQueries(["notifications"])},Y=function(e,t){return(0,X.useQuery)(["notifications","count",e],(function(){return(0,Q.UT)(J.BT.fetchNotificationCount({communityId:e}))}),{enabled:!!e,onSuccess:function(e){var r=e.new_notifications_count;t(r)}})},ee=function(){var e=(0,X.useQueryClient)(),t=(0,X.useMutation)((function(e){var t=e.action,r=e.id,n=e.postId,i=e.followerId;return $[t]({id:r,postId:n,followerId:i})}),{onSuccess:function(){return K({queryClient:e})}});return{mutate:t.mutate,isLoading:t.isLoading}};function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ie={INBOX:"inbox",MENTIONS:"mentions",FOLLOWING:"following",ALL:"all",ARCHIVED:"archived"},oe=(ne(n={},ie.INBOX,(0,b.t)("notifications.group_tabs.inbox")),ne(n,ie.MENTIONS,(0,b.t)("notifications.group_tabs.mentions")),ne(n,ie.FOLLOWING,(0,b.t)("notifications.group_tabs.following")),ne(n,ie.ALL,(0,b.t)("notifications.group_tabs.all")),ne(n,ie.ARCHIVED,(0,b.t)("notifications.group_tabs.archived")),n),ae=(0,D.createContext)(null);ae.displayName="NotificationContext";var se=function(e){var t=e.children,r=te((0,D.useState)(ie.INBOX),2),n=r[0],i=r[1],o=te((0,D.useState)(0),2),a=o[0],s=o[1],c=function(e){var t=e.perPage,r=void 0===t?30:t,n=e.notificationGroup,i=void 0===n?ie.INBOX:n,o=(0,X.useInfiniteQuery)(["notifications",i],(function(e){var t=e.pageParam,n=void 0===t?1:t;return(0,Q.UT)(J.BT.fetch({page:n,perPage:String(r),notificationGroup:i}))}),{staleTime:6e4,getNextPageParam:function(e){return e.has_next_page?e.page+1:void 0}}),a=o.isLoading,s=o.data,c=o.refetch,l=o.fetchNextPage,u=o.isFetchingNextPage,d=null===s||void 0===s?void 0:s.pages[(null===s||void 0===s?void 0:s.pages.length)-1];return{isLoading:a,isFetchingNextPage:u,notifications:s,refetch:c,fetchNextPage:l,hasNextPage:!(null===d||void 0===d||!d.has_next_page)}}({perPage:30,notificationGroup:n.toLocaleLowerCase()}),l=c.isLoading,u=c.notifications,d=c.refetch,f=c.fetchNextPage,m=c.hasNextPage,p=c.isFetchingNextPage;return(0,x.jsx)(ae.Provider,{value:{activeTab:n,setActiveTab:i,isLoading:l,isFetchingNextPage:p,notifications:u,refetch:d,hasNextPage:m,fetchNextPage:f,notificationCount:a,setNotificationCount:s,getTabLabel:function(e){return oe[e]}},children:t})},ce=function(){var e=(0,D.useContext)(ae);if(!e)throw new Error("useNotificationContext must be used within a NotificationProvider");return e},le=r(43333),ue=r(22339),de=r(73183),fe=r(6952),me=r(96486),pe=r(58533),he=r(75953),be=r(13288),ve=function(e){var t=e.notification;return(0,x.jsx)(Z.Z.BodySm,{as:"span",weight:"font-semibold",children:t.actor_name})},ye=function(e){var t=e.notification;return(0,x.jsx)(Z.Z.BodySm,{as:"span",children:t.display_action})},ge=function(e){var t=e.textStructure;return(0,x.jsx)("span",{className:"text-dark text-sm",children:t})},xe=function(e){var t=e.notification;return(0,x.jsx)(Z.Z.BodySm,{as:"span",weight:"font-semibold",children:t.notifiable_title})},je=function(e){var t=e.notification,r=e.textStructure;switch(r){case"actor_name":return(0,x.jsx)(ve,{notification:t});case"display_action":return(0,x.jsx)(ye,{notification:t});case"notifiable_title":return(0,x.jsx)(xe,{notification:t});default:return(0,x.jsx)(ge,{textStructure:r})}},Oe=function(e){var t=e.notification;return(0,x.jsx)("span",{className:"w-[calc(100%-16px)] break-words leading-4","data-testid":"notification-title",children:t.notification_text_structure.map((function(e,r){var n=0===r,i=r===t.notification_text_structure.length-1;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(je,{notification:t,textStructure:e}),(n||!i)&&(0,x.jsx)("span",{children:"\xa0"})]})}))})},we=r(27025),ke=["Comment","Post"],_e="mark_as_read",Ne="archive",Pe="follow",Ce="unfollow",Se="mark_all_as_read",Ie=function(e){var t=e.notification,r=t.post_follower_id,n=ke.includes(t.notifiable_type)&&!t.post_follower_id,i="archived"!==t.notification_group,o=t.read_at,a=ee(),s=a.mutate,c=a.isLoading,l="live_stream_went_live"===t.action;return!r&&!i&&null!==o&&l?null:(0,x.jsxs)(we.Lt,{size:"medium",direction:"bottom-end",className:"hidden h-6 w-6 group-hover:inline-block",button:(0,x.jsx)(y.h,{name:"16-menu-dots-horizontal",ariaLabel:(0,b.t)("actions")}),transitionWrapperClassName:"z-30",children:[!o&&(0,x.jsx)(we.Lt.ItemLink,{onClick:function(e){s({id:t.id,action:_e}),e.stopPropagation()},disabled:c,children:(0,b.t)("notifications.actions.mark_as_read")}),r&&(0,x.jsx)(we.Lt.ItemLink,{onClick:function(e){s({postId:t.post_id,followerId:t.post_follower_id,action:Ce}),e.stopPropagation()},disabled:c,children:(0,b.t)("notifications.actions.unfollow_post")}),n&&(0,x.jsx)(we.Lt.ItemLink,{onClick:function(e){s({postId:t.post_id,action:Pe}),e.stopPropagation()},disabled:c,children:(0,b.t)("notifications.actions.follow_post")}),i&&(0,x.jsx)(we.Lt.ItemLink,{onClick:function(e){s({id:t.id,action:Ne}),e.stopPropagation()},disabled:c,children:(0,b.t)("notifications.actions.archive")})]})},Le=function(e){var t=e.children;return(0,x.jsx)("div",{className:"mt-2 flex h-[calc(100%-100px)] w-full flex-col justify-between space-y-px overflow-y-auto px-2 pb-2",id:"user-notifications-panel-header",children:t})},De=function(){var e=ce().activeTab;return(0,x.jsxs)("div",{className:"mt-2 flex h-[calc(100%-100px)] w-full flex-col items-center justify-center space-y-2 px-6 pb-2 text-center",children:[(0,x.jsx)(Z.Z.TitleMd,{children:(0,b.t)("header_v3.no_notifications.".concat(e||"inbox"))}),(0,x.jsx)(Z.Z.BodyMd,{children:(0,b.t)("header_v3.no_notifications_description.".concat(e||"inbox"))})]})},Te=r(40160),Ee=r(95287),Ae=function(e){var t=e.children,r=e.notification,n=((0,S.wO)()||{}).onClose,i=void 0===n?me.noop:n,o=ee().mutate;return(0,x.jsx)(Te.rU,{to:r.action_web_path,onClick:function(e){o({id:r.id,action:_e}),(0,Ee.n2)(e)||i()},className:"w-full",children:t})};function Me(e){return function(e){if(Array.isArray(e))return ze(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Be=function(e){var t=e.rows;return(0,x.jsx)(x.Fragment,{children:Me(Array(t)).map((function(e,t){return t})).map((function(e){return(0,x.jsxs)("div",{className:"flex flex-row px-4 py-3",children:[(0,x.jsx)("div",{className:"bg-tertiary mr-3 h-8 w-8 animate-pulse rounded-md"}),(0,x.jsxs)("div",{className:"flex w-full flex-col items-start space-y-1",children:[(0,x.jsx)("div",{className:"bg-tertiary h-4 w-full animate-pulse rounded-md"}),(0,x.jsx)("div",{className:"bg-tertiary h-3 w-1/3 animate-pulse rounded-md"})]})]},e)}))})},Re=r(73890),Ze=function(e){var t=e.createdAt;return(0,x.jsx)(Z.Z.LabelXs,{color:"text-default",children:(0,Re.TF)(t)})},He=r(64422),Ve=r(18605),Fe=function(e){var t=e.action,r=(0,l.I)().isV3Enabled,n=(0,Ve.Er)(t)?t:null,i=function(e){switch(e){case"like":return"16-like-v3";case"message":case"comment":return"16-message-v3";case"mention":return"16-mention-v3";case"add":return"16-post-v3";case"reply":return"16-reply-v3";case"flagged":return"16-alert-v3";case"live_stream_went_live":return"16-live-v3";default:return null}}(t);return r&&i?(0,x.jsx)("div",{className:"absolute left-5 top-5 z-0 flex h-4 w-4 items-center justify-center rounded-full text-white",children:(0,x.jsx)(Ve.JO,{type:i,size:16})}):!r&&n?(0,x.jsx)("div",{className:"notifications__icon !left-5 !top-5 !h-4 !w-4",children:(0,x.jsx)(Ve.JO,{type:n,className:"!w-3",size:24})}):null},Ue=function(e){var t=e.src,r=void 0===t?"":t,n=e.name,i=e.action;return(0,x.jsxs)("div",{className:"relative mr-3 shrink-0",children:[(0,x.jsx)(He.s,{src:r,name:n,size:"8"}),(0,x.jsx)(Fe,{action:i})]})},Je=function(){var e=ce(),t=e.isLoading,r=e.notifications,n=e.fetchNextPage,i=e.hasNextPage,o=(0,a.wh)().currentCommunity.current_plan_tier;return t?(0,x.jsx)(Le,{children:(0,x.jsx)(Be,{rows:15})}):r&&r.pages[0]&&!(0,me.isEmpty)(r.pages[0].records)?(0,x.jsxs)(Le,{children:[(0,x.jsx)(pe.Z,{style:{overflow:"auto"},scrollThreshold:.8,next:n,hasMore:i,dataLength:r.pages.length,scrollableTarget:"user-notifications-panel-header",loader:(0,x.jsx)(be.a,{center:!0}),children:r.pages.map((function(e){return e.records.map((function(e){return(0,x.jsxs)("div",{className:"hover:bg-tertiary focus-visible:bg-tertiary group flex w-full items-start justify-between rounded-md px-4 py-3 transition-colors duration-200 ease-in-out",children:[(0,x.jsx)(Ae,{notification:e,children:(0,x.jsxs)("div",{className:N()("flex items-start",(0,he.O)(e)),children:[(0,x.jsx)(Ue,{src:e.actor_image||"",name:e.actor_name,action:e.action}),(0,x.jsxs)("div",{className:"flex w-full flex-col items-start space-y-1","data-testid":"notification-details",children:[(0,x.jsx)(Oe,{notification:e}),(0,x.jsx)(Ze,{createdAt:e.created_at})]})]})}),(0,x.jsxs)("div",{children:[e.read_at?(0,x.jsx)("div",{className:"flex h-6 w-6 group-hover:hidden"}):(0,x.jsx)("div",{className:"flex h-6 w-6 items-center justify-center group-hover:hidden",children:(0,x.jsx)("span",{className:"bg-messaging-info-blue inline-block h-2 w-2 rounded-full group-hover:hidden"})}),(0,x.jsx)(Ie,{notification:e})]})]},e.id)}))}))}),o&&(0,x.jsx)("div",{className:"w-full py-2 text-center",children:(0,x.jsx)(Z.Z.LabelXs,{children:(0,b.t)("notification_retention_message",{months:(0,b.t)("notification_retention_months.".concat(o))})})})]}):(0,x.jsx)(De,{})};function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qe=function(){var e,t=ce(),r=t.activeTab,n=t.setActiveTab,i=t.setNotificationCount,o=t.getTabLabel,s=(0,a.wh)().currentCommunity,c=Y(null===s||void 0===s?void 0:s.id,i).data,l=function(e){return e>0?(0,x.jsx)(ue.T,{count:(0,de.o)(e)}):null},u=(We(e={},ie.INBOX,l(null===c||void 0===c?void 0:c.new_inbox_count)),We(e,ie.MENTIONS,l(null===c||void 0===c?void 0:c.new_mentions_count)),e);return(0,x.jsxs)(fe.O.Group,{className:"overflow-hidden",selectedIndex:Object.values(ie).indexOf(r),children:[(0,x.jsx)("div",{className:"border-primary border-b px-6",children:(0,x.jsx)(fe.O.List,{children:Object.values(ie).map((function(e){return(0,x.jsx)(fe.O,{className:"text-sm",onClick:function(){n(e)},children:(0,x.jsxs)("div",{className:"flex items-center gap-1",children:[o(e),u[e]]})},e)}))})}),(0,x.jsx)(Je,{})]})},Ge=function(){var e=(0,i.k6)(),t=ee(),r=t.mutate,n=t.isLoading;return(0,x.jsxs)("div",{className:"flex items-center justify-between px-6 pb-2 pt-5",children:[(0,x.jsx)(Z.Z.LabelLg,{weight:"medium",children:(0,b.t)("header_v3.notifications")}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)(v.T,{interactive:!1,content:(0,b.t)("header_v3.mark_all_as_read"),children:(0,x.jsx)(y.h,{name:"16-mark-as-read",onClick:function(){return r({action:Se})},ariaLabel:(0,b.t)("header_v3.mark_all_as_read"),disabled:n})}),(0,x.jsx)(v.T,{interactive:!1,content:(0,b.t)("header_v3.notification_settings"),children:(0,x.jsx)(y.h,{name:"16-settings",ariaLabel:(0,b.t)("header_v3.notification_settings"),onClick:function(){return e.push(J.G3.notifications)}})})]})]})},Xe=function(e){var t=e.notificationCount,r=e.isOpen,n=void 0!==r&&r,i=(0,D.useRef)(null),o=(0,l.I)().isV3Enabled;return(0,T.y1)("alt+n",(function(){var e;null===i||void 0===i||null===(e=i.current)||void 0===e||e.click()}),[i]),(0,x.jsx)("div",{className:"relative",children:(0,x.jsxs)(v.T,{interactive:!1,content:(0,b.t)("header_v3.notifications"),children:[(0,x.jsx)(y.h,{name:o?"20-bell-v3":"16-notifications",buttonSize:o?36:28,iconSize:o?20:16,className:N()("hover:!bg-c-header-hover focus:!bg-c-header-hover !rounded-md p-1.5 duration-150",{"!text-c-header hover:!text-c-header-active focus:!text-c-header-active":o,"!bg-c-header-active !text-c-header-active":o&&n}),iconClassName:N()({"!text-c-header":!o,"!text-inherit !transition-none":o}),ariaLabel:(0,b.t)("header_v3.notifications"),dataTestId:"notifications-menu-popover-button",ref:i}),t>0&&(0,x.jsx)(B,{count:t,dataTestId:"unread-notifications-count"})]})})},Qe=function(){var e=ce(),t=e.notificationCount,r=e.setNotificationCount,n=(0,X.useQueryClient)(),i=(0,a.wh)(),o=i.currentCommunityMember,s=i.currentCommunity,c=i.isViewOnlyMasquerading;Y(null===s||void 0===s?void 0:s.id,r);var l=function(e){return{mutate:(0,X.useMutation)((function(){return(0,Q.Cu)(J.BT.resetNotificationCount())}),{onSuccess:function(t){e(t.new_notifications_count)}}).mutate}}(r),u=l.mutate;(0,le.I)(null===o||void 0===o?void 0:o.id,(function(e){return function(e){var t=e.eventData,r=e.queryClient,n=e.setNotificationCount;switch(t.event){case"resetNewNotificationCount":n(t.new_notifications_count);break;case"updateNewNotificationCount":n(t.new_notifications_count),K({queryClient:r});break;case"newNotification":n((function(e){return e+1})),K({queryClient:r})}}({eventData:e,queryClient:n,setNotificationCount:r})}));return(0,x.jsx)(S.i9,{shouldCloseOnLocationChange:!0,renderButton:function(e){return(0,x.jsx)(Xe,{isOpen:e,notificationCount:t})},className:N()("border-primary bg-primary h-full max-h-[38rem] w-full max-w-[30rem] rounded-lg border shadow-lg",{"cursor-not-allowed":c}),onOpen:function(){t>0&&u()},popperOptions:I,shouldHideOnMdScreens:!1,children:(0,x.jsxs)("div",{className:N()("h-full w-full",{"pointer-events-none":c}),"data-testid":"notifications-drawer",children:[(0,x.jsx)(Ge,{}),(0,x.jsx)(qe,{})]})})},$e=function(){return(0,x.jsx)(se,{children:(0,x.jsx)(Qe,{})})},Ke=r(13909),Ye=r(59219),et=r(10793),tt=function(e){var t=e.isRenderedOutsideSpace,r=(0,a.wh)(),n=r.currentCommunityMember,i=r.isViewOnlyMasquerading,o=(0,l.I)().isV3Enabled,s=(0,C.T)().isSettingsRoute;return!n||t?(0,x.jsxs)("div",{className:"absolute right-9 flex h-full items-center justify-end gap-6",children:[o&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Ye.Q,{}),(0,x.jsx)(et.K,{})]}),(0,x.jsx)(P.G,{})]}):o?(0,x.jsxs)(f.Z,{className:N()("z-30 gap-4 space-x-0 justify-self-end",{"cursor-not-allowed":i}),dataTestId:"right-action-block",children:[!s&&(0,x.jsx)(Ye.Q,{}),(0,x.jsxs)("div",{className:N()("flex items-center",{"pointer-events-none":i}),children:[(0,x.jsx)($e,{}),(0,x.jsx)(G,{}),(0,x.jsx)(V,{}),(0,x.jsx)(A,{})]}),(0,x.jsx)(Ke.D,{})]}):(0,x.jsx)("div",{className:N()("flex",{"cursor-not-allowed":i}),children:(0,x.jsxs)(f.Z,{className:N()("space-x-0 justify-self-end",{"pointer-events-none":i}),dataTestId:"right-action-block",children:[(0,x.jsx)($e,{}),(0,x.jsx)(G,{}),(0,x.jsx)(V,{}),(0,x.jsx)(A,{}),(0,x.jsx)(Ke.D,{})]})})},rt=function(){return(0,x.jsx)("div",{className:"absolute inset-1/2 top-0 flex h-full w-full -translate-x-1/2 list-none items-center justify-center gap-4",children:(0,x.jsx)(Ye.Q,{isLarge:!0})})},nt=r(53344),it=r(64687),ot=r.n(it),at=r(64660),st=r(71094),ct=r(43292),lt=r(36845),ut=r(75038),dt=r(57435),ft=r(45238),mt=r(73826),pt=r(76001),ht=r(39068),bt=r(90789),vt=r(17551),yt={open_search:"cmd+k, ctrl+k",open_keyboard_shortcuts_modal:"cmd+/, ctrl+/",toggle_appearance:"cmd+option+u, ctrl+alt+u",customize_theme:"option+c+t, alt+c+t",customize_notifications:"option+c+n, alt+c+n",edit_profile:"option+g+p, alt+g+p",write_a_post:"cmd+shift+p, ctrl+shift+p",view_your_profile:"option+g+v,alt+g+v"},gt={go_to_settings:"option+g+s, alt+g+s",go_to_home:"option+g+h, alt+g+h",go_to_members:"option+g+m, alt+g+m",go_to_courses:"option+g+c, alt+g+c",go_to_events:"option+g+e, alt+g+e",add_space:"option+shift+n, alt+shift+n",add_space_group:"option+shift+g, alt+shift+g",go_live:"option+g+l, alt+g+l"};function xt(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,i)}var jt=function(){var e,t=(0,g.v)(),r=(0,mt.D)(),n=(0,dt.t)(),o=(0,d.TC)(),s=o.toggleAppearance,c=o.currentAppearance,l=(0,i.k6)(),u=(0,pt.r)(),f=(0,at.r)(),m=(0,lt.G)(),p=(0,ft.m)(),h=(0,a.wh)().currentCommunityMember,b=(0,vt.U)(),v=(0,a.nT)().helpers.findBy({slug:b}),y=(0,ut.L)(),x=(0,st.u)(),j=(0,a.T4)({spaceId:null===v||void 0===v?void 0:v.id}).refetch,O=(0,ct.z)(),w=(0,ht.vb)(h)||(0,ht.I$)(h),k="/home"===(0,i.TH)().pathname,_=function(){var e={basic:function(){return u.show({spaceId:v.id})},event:y,course:function(){return x.show({spaceId:v.id,refetch:(e=ot().mark((function e(){return ot().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:case"end":return e.stop()}}),e)})),t=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){xt(o,n,i,a,s,"next",e)}function s(e){xt(o,n,i,a,s,"throw",e)}a(void 0)}))},function(){return t.apply(this,arguments)})});var e,t},members:function(){return O.show({spaceId:v.id})}},t=e[null===v||void 0===v?void 0:v.post_type]||u;t.visible?t.hide():"function"===typeof t?t():t.show()};(0,T.y1)(yt.open_search,(function(e){e.preventDefault(),r.visible?r.hide():r.show()}),[r.visible]),(0,T.y1)(yt.open_keyboard_shortcuts_modal,(function(e){e.preventDefault(),t.visible?t.hide():t.show()}),[t.visible]),(0,T.y1)(yt.toggle_appearance,(function(e){e.preventDefault(),null===s||void 0===s||s()}),[c]),(0,T.y1)(yt.customize_theme,(function(e){e.preventDefault(),l.push("/settings/theme")}),{enabled:(0,ht.vb)(h)}),(0,T.y1)(gt.go_to_settings,(function(e){e.preventDefault(),l.push("/settings")}),{enabled:(0,ht.vb)(h)}),(0,T.y1)(gt.go_to_home,(function(e){e.preventDefault(),l.push("/home")})),(0,T.y1)(gt.go_to_members,(function(e){e.preventDefault(),l.push("/members")})),(0,T.y1)(gt.go_to_courses,(function(e){e.preventDefault(),l.push("/courses")})),(0,T.y1)(gt.go_to_events,(function(e){e.preventDefault(),l.push("/events")})),(0,T.y1)(yt.edit_profile,(function(e){e.preventDefault(),l.push("/account")})),(0,T.y1)(yt.customize_notifications,(function(e){e.preventDefault(),l.push("/account/notifications")})),(0,T.y1)(gt.go_live,(function(e){e.preventDefault(),n.visible?n.hide():n.show()}),[n.visible]),(0,T.y1)(yt.view_your_profile,(function(e){e.preventDefault(),f.visible?f.hide():f.show({memberPublicId:null===h||void 0===h?void 0:h.public_uid})}),[f.visible]),(0,T.y1)(yt.write_a_post,(function(e){e.preventDefault(),_()}),{enabled:!!k||!(0,bt.Ug)(v)&&((0,bt.qy)(v)||(0,bt.EG)(v)?w:!(!(0,bt.H3)(v)&&!(0,bt.V5)(v))&&(w||(null===v||void 0===v||null===(e=v.policies)||void 0===e?void 0:e.can_create_post)))},[u.visible,y.visible,v]),(0,T.y1)(gt.add_space,(function(e){e.preventDefault(),m.visible?m.hide():m.show()}),[m.visible]),(0,T.y1)(gt.add_space_group,(function(e){e.preventDefault(),p.visible?p.hide():p.show()}),[p.visible])},Ot=function(e){var t=e.isRenderedOutsideSpace,r=(0,l.I)().isV3Enabled,n=(0,a.wh)().currentCommunity,b=(0,u.j)(),v=(0,c.I)(),y=(0,s._v)(n),g=y.url,O=y.type,_=(0,i.$B)(nt.P),N=!b||v,P=(0,C.T)(),S=P.isSettingsRoute,I=P.isReactFlowWorkflowsRoute,L=(0,s.Z1)(n),D=(0,s.Aq)(n),T=(0,d.wC)().minimal_layout;jt();return I||N||L||D||_&&_.isExact?null:T?(0,x.jsxs)(p.P,{isRenderedOutsideSpace:!0,children:[(0,x.jsx)(f.Z,{children:(0,x.jsx)(o.v,{logoUrl:null!==g&&void 0!==g?g:"",logoType:O,communityName:null===n||void 0===n?void 0:n.name,onLogoClick:function(){window.location.href=window.location.origin}})}),(0,x.jsx)(tt,{isRenderedOutsideSpace:t})]}):S?r?(0,x.jsxs)(h.R,{children:[(0,x.jsx)(w,{}),(0,x.jsx)(rt,{}),(0,x.jsx)(tt,{})]}):(0,x.jsxs)(p.P,{children:[(0,x.jsx)(j,{}),(0,x.jsx)(m.H,{}),(0,x.jsx)(tt,{})]}):r?(0,x.jsxs)(h.R,{children:[(0,x.jsx)(w,{}),(0,x.jsx)(k.v,{}),(0,x.jsx)(tt,{})]}):(0,x.jsxs)(p.P,{children:[(0,x.jsx)(j,{}),(0,x.jsx)(m.H,{}),(0,x.jsx)(tt,{})]})}},64626:(e,t,r)=>{r.d(t,{gn:()=>s});var n=r(16765),i=r(28934),o=r(38503),a=function(){var e,t,r,i,a,s,c,l,u,d,f=(i=(0,o.TC)(),a=i.customColors,s=i.isCustomTheme,c=i.currentTheme,l=i.currentAppearance,u=(null===(e=a[l])||void 0===e?void 0:e.header_background_color)||"#fff",d=(null===o.v||void 0===o.v||null===(t=o.v[c])||void 0===t||null===(r=t[l])||void 0===r?void 0:r["--color-community-header-background"])||"#fff",s?(0,n.Vi)(u):(0,n.Vi)(d));return f.isDark()?f.lighten(.1).toHex():f.darken(.1).toHex()},s=function(){var e=a();return(0,i.W)()?{borderColor:e}:{}}},33777:(e,t,r)=>{r.d(t,{E:()=>a});var n=r(94184),i=r.n(n),o=r(85893),a=function(e){var t=e.children,r=e.className,n=e.onExit,a=e.exitText,s=e.dataTestId,c=void 0===s?"trial-banner":s;return(0,o.jsxs)("div",{id:c,className:i()("bg-banner text-badge z-[3] hidden h-12 w-full items-center justify-center p-3 text-center font-semibold leading-5 lg:flex",{relative:!!a},r),children:[t,a&&(0,o.jsx)("div",{className:"absolute right-5",children:(0,o.jsx)("button",{type:"submit",onClick:n,children:a})})]})}},11487:(e,t,r)=>{r.d(t,{t:()=>m});var n=r(35067),i=r(85893);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(e){var t=e.label,r=e.onClick,n=e.passThroughProps,o=e.linkComponent;return(0,i.jsx)("li",{className:"cursor-pointer",children:o||(0,i.jsx)("button",a(a({type:"button","data-turbolinks":"false",className:"w-full text-left"},n),{},{onClick:r,children:t}))})},l=r(18605),u=function(e){var t=e.renderButton;return t?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)(l.JO,{type:"20-menu-dots-horizontal",size:20,"aria-hidden":"true"})},d=["label","linkComponent"];function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var m=function(e){var t=e.renderButton,r=e.menuItems,o=e.dropdownSide,a=void 0===o?"right":o,s=e.shouldCloseOnClickItem,l=void 0!==s&&s,m=(0,n.x)(!1),p=m.open,h=m.toggleDropdown,b=m.handleClose;return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("button",{type:"button",onClick:h,className:"dropdown-menu-icon",children:(0,i.jsx)(u,{renderButton:t})}),(0,i.jsx)(n.o,{className:"dropdown-menu animate-right dropdown-menu-".concat(a),handleClose:b,open:p,children:(0,i.jsx)("div",{className:"dropdown-menu__inside",children:(0,i.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(e){var t=e.label,r=e.linkComponent,n=f(e,d);return(0,i.jsx)(c,{label:t,passThroughProps:n,onClick:function(){n.onClick&&n.onClick(),l&&b()},linkComponent:r},t)}))})})})]})}},45144:(e,t,r)=>{r.d(t,{v:()=>d});var n=r(94184),i=r.n(n),o=r(85893),a=["children","className"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var d=function(e){var t=e.children,r=e.className,n=u(e,a);return(0,o.jsx)("div",c(c({className:i()("bg-tertiary text-dark w-full rounded-lg p-4",r)},n),{},{children:t}))}},2612:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(67294),i=r(96486);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){var t=e.value,r=o((0,n.useState)(i.noop),2),a=r[0],s=r[1],c=(0,n.useRef)(null);return(0,n.useEffect)((function(){(0,i.isFunction)(a)&&s()}),[t]),{inputRef:c,setChangeHandler:s}}},90647:(e,t,r)=>{r.d(t,{n:()=>u});var n=r(67142),i=r(94184),o=r.n(i),a=r(18360),s=r(62618),c=r(36589),l=r(85893),u=function(e){var t=e.members,r=void 0===t?[]:t,i=e.amountToShow,u=void 0===i?3:i,d=e.totalCount,f=void 0===d?0:d,m=e.bordered,p=void 0===m||m,h=(0,c.I)().isV3Enabled,b=r.slice(0,u).map((function(e){var t=(null===e||void 0===e?void 0:e.name)||"",r=(null===e||void 0===e?void 0:e.avatar_url)||"";return{id:(null===e||void 0===e?void 0:e.id)||"",name:t,src:r}}));if(0===b.length)return null;var v=f-b.length,y=v>0;return(0,l.jsxs)("div",{className:o()("isolate flex items-center rounded-lg px-5 py-2 md:justify-center",{"md:border-primary md:border md:p-1":p&&!h,"gap-2 md:p-0":h}),children:[(0,l.jsx)("div",{className:"border-tertiary",children:(0,l.jsx)(n.pB,{users:b,isFullRounded:h})}),y&&(0,l.jsx)("div",{className:o()("flex",{"mx-1.5":!h}),children:(0,l.jsxs)(a.wN,{weight:"semibold",color:"text-default",children:["+",(0,s.HA)(v)]})})]})}},1741:(e,t,r)=>{r.d(t,{G:()=>s});var n=r(85893);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=function(e){return(0,n.jsx)("span",o(o({},e),{},{children:"\xb7"}))}},35466:(e,t,r)=>{r.d(t,{h:()=>m});var n=r(67294),i=r(94184),o=r.n(i),a=r(86013),s=r(81786),c=r(7409),l=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){var t=e.sequence,r=e.status,i=e.title,u=e.displayNext,f=void 0!==u&&u,m=e.displaySkip,p=void 0!==m&&m,h=e.displaySubmit,b=void 0!==h&&h,v=e.isNextStepDisabled,y=e.children,g=(0,n.useContext)(c.l).onNextClick;return(0,l.jsxs)("div",{className:o()("multi-step-panel__step",{hidden:"active"!==r}),children:[y,(0,l.jsxs)("div",{className:"multi-step-panel__actions",children:[f&&(0,l.jsx)(s.z,d(d({variant:"primary",large:!0,onClick:function(e){return g(e,t)}},v?{disabled:!0}:{}),{},{children:(0,a.t)("next")})),p&&(0,l.jsx)(s.z,d(d({variant:"secondary",large:!0,onClick:function(e){return g(e,t)},marginLeft:!0},v?{disabled:!0}:{}),{},{children:(0,a.t)("skip")})),b&&(0,l.jsx)(s.z,d(d({variant:"primary",large:!0},v?{disabled:!0}:{}),{},{children:(0,a.t)("finish")}))]})]},i)}},7409:(e,t,r)=>{r.d(t,{l:()=>u,O:()=>d});var n=r(67294),i=r(86013),o=r(96486),a=r(18605),s=r(85893);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u=(0,n.createContext)(void 0);u.displayName="MultiStepPanelContext";var d=function(e){var t=e.steps,r=e.onNextClick,l=e.onPreviousClick,d=e.onClose,f=e.stepPanelContainer,m=c((0,n.useState)({sequence:1}),2),p=m[0],h=m[1],b=(0,n.useCallback)((function(e,t){e.preventDefault(),r(t)}),[r]),v=(0,n.useCallback)((function(e){e.preventDefault(),l(p.sequence)}),[l,p]);(0,n.useEffect)((function(){h((0,o.find)((0,o.values)(t),{status:"active"}))}),[t]);var y=(0,n.useMemo)((function(){return{steps:t,onNextClick:b,onPreviousClick:v}}),[t,b,v]);return(0,s.jsx)(u.Provider,{value:y,children:(0,s.jsx)("div",{className:"multi-step-panel",children:(0,s.jsxs)("div",{className:"multi-step-panel__step-panel-container",children:[(0,s.jsxs)("div",{className:"multi-step-panel__navigation-panel-container__actions","data-testid":"close-modal",children:[p.sequence>1&&(0,s.jsx)("button",{type:"button",className:"multi-step-panel__navigation-panel-container__topbar-button",onClick:v,"aria-label":(0,i.t)("back"),children:(0,s.jsx)(a.JO,{type:"back-arrow-v2"})}),1===p.sequence&&(0,s.jsx)("span",{}),(0,s.jsx)("button",{type:"button",className:"multi-step-panel__navigation-panel-container__topbar-button",onClick:d,children:(0,s.jsx)(a.JO,{type:"close-v2"})})]}),(0,s.jsx)("div",{className:"multi-step-panel__step-panel-container__wrapper",children:f})]})})})}},45759:(e,t,r)=>{r.d(t,{W:()=>p});var n=r(67294),i=r(94184),o=r.n(i),a=r(8246),s=r(43733),c=r(85893),l=["children","className"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=(0,n.forwardRef)((function(e,t){var r=e.children,n=e.className,i=m(e,l);return(0,c.jsx)(s.q,d(d({className:o()("bg-v2-danger/5 border-v2-danger border",n),ref:t},i),{},{children:(0,c.jsx)(a.Z.LabelSm,{color:"text-stroke-foreground",as:"span",children:r})}))}))},74079:(e,t,r)=>{r.d(t,{J:()=>m});var n=r(86215),i=r(47031),o=r(94184),a=r.n(o),s=r(18605),c=r(71714),l=r(85893);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){var t=e.buttonTitle,r=e.iconType,o=e.viewBox,u=void 0===o?"0 0 20 20":o,f=e.children;return(0,l.jsx)(n.J,{className:"react-popover",children:function(e){var o=e.open;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.J.Button,{className:a()("text-darkest bg-tertiary hover:bg-secondary rounded-lg px-[18px] py-[6px] text-sm font-medium leading-5"),children:[r&&(0,l.jsx)(s.JO,{viewBox:u,type:r,className:"react-popover__icon"}),(0,l.jsx)("span",{children:t})]}),(0,l.jsx)(i.u,d(d({show:o},c.E6),{},{children:(0,l.jsx)(n.J.Panel,{className:"react-popover__panel",children:(0,l.jsx)("div",{className:"react-popover__panel-wrapper",children:(0,l.jsx)("div",{className:"react-popover__panel-inner",children:f})})})}))]})}})}},38704:(e,t,r)=>{r.d(t,{BW:()=>v,i9:()=>x,wO:()=>g});var n=r(67294),i=r(86215),o=r(94184),a=r.n(o),s=r(96486),c=r(73935),l=r(77294),u=r(36589),d=r(85893);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v="headless-ui-popover-root",y=(0,n.createContext)({onClose:s.noop});y.displayName="PopoverPortalContext";var g=function(){return(0,n.useContext)(y)},x=function(e){var t=e.children,r=e.button,o=e.renderButton,s=e.placement,f=void 0===s?"right-end":s,p=e.disabled,b=void 0!==p&&p,g=e.onOpen,x=e.className,j=e.popperOptions,O=e.handleClose,w=e.shouldHideOnMdScreens,k=void 0===w||w,_=h((0,n.useState)(!1),2),N=_[0],P=_[1],C=(0,u.I)().isV3Enabled,S=h((0,n.useState)(null),2),I=S[0],L=S[1],D=h((0,n.useState)(null),2),T=D[0],E=D[1],A=(0,l.D)(I,T,m({placement:f},j)),M=A.styles,z=A.attributes;(0,n.useEffect)((function(){P(!0)}),[]),(0,n.useLayoutEffect)((function(){document.body.style.overflow=T?"hidden":"auto"})),(0,n.useEffect)((function(){T&&g&&g(),!T&&O&&O(),function(e){if(e){var t=e.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])");t.length>0&&t[0].focus()}}(T||I)}),[T]);var B=Boolean(r||o);return N||B?(0,d.jsx)(i.J,{children:function(e){var n=e.open,s={onClose:e.close},l=document.getElementById(v);return(0,d.jsxs)(y.Provider,{value:s,children:[(0,d.jsx)(i.J.Button,{as:"div",ref:L,className:a()("w-full",{"rounded-md":n,"hover:bg-c-sidebar-hover focus:bg-c-sidebar-hover my-px rounded-md":!C,"bg-c-sidebar-hover":!C&&n}),children:null!==r&&void 0!==r?r:null===o||void 0===o?void 0:o(n)}),!b&&l&&(0,c.createPortal)((0,d.jsx)(i.J.Panel,m(m({as:"div",ref:E,style:M.popper},z.popper),{},{className:a()("border-primary bg-primary z-50 -ml-2.5 h-[600px] w-[496px] rounded-lg border shadow-xl lg:block 2xl:h-[658px]",{hidden:k},x),children:t})),l)]})}}):null}},62620:(e,t,r)=>{r.d(t,{q:()=>u});var n=r(94184),i=r.n(n),o=r(96486),a=r(81786),s=r(52995),c=r(8246),l=r(85893),u=function(e){var t=e.children,r=e.dataTestId,n=e.onSubmit,u=e.title,d=e.submitButtonText,f=e.isSubmitDisabled,m=e.fullWidth,p=e.variant,h=void 0===p?"default":p,b=e.toggleSwitchProps,v=void 0===b?{}:b,y=e.className,g=e.isFirstChild,x=void 0!==g&&g,j="default"===h;return(0,l.jsxs)("div",{className:i()({"bg-primary border-primary rounded-lg border px-8 py-6":j,"md:w-[624px]":j&&!m,"md:w-[720px]":!j,"w-full":m},y),"data-testid":r,children:[(0,l.jsxs)("div",{className:"flex flex-row items-center",children:[(0,l.jsx)("div",{children:(0,l.jsx)(c.Z.TitleSm,{weight:"font-bold",children:u})}),d&&(0,l.jsx)("div",{children:(0,l.jsx)(a.z,{onClick:n,disabled:f,children:d})}),!(0,o.isEmpty)(v)&&(0,l.jsx)(s.Zh,{field:v.field,value:v.value,onChange:v.onToggleChange})]}),(0,l.jsx)("div",{className:i()({"mt-1 md:mt-4":!x}),children:t})]})}},43211:(e,t,r)=>{r.d(t,{r:()=>s});var n=r(94184),i=r.n(n),o=r(85893),a={success:"text-v2-success",warning:"text-v2-warning-900",danger:"text-v2-danger",default:"text-dark"},s=function(e){var t=e.children,r=e.variant,n=void 0===r?"default":r,s=e.textTransform,c=a[n]||a.default;return(0,o.jsx)("span",{className:i()("text-sm",c,s),children:t})}},22735:(e,t,r)=>{r.d(t,{iA:()=>s,RM:()=>m,pj:()=>g,OQ:()=>x,ss:()=>N,dc:()=>C,FE:()=>S,SC:()=>A});var n=r(67294),i=r(94184),o=r.n(i),a=r(85893),s=(0,n.forwardRef)((function(e,t){var r=e.children,n=e.dataTestId,i=e.className,s=e.tableClassName,c=e.variant,l=void 0===c?"default":c;return(0,a.jsx)("div",{className:o()("react-table",i),"data-testid":n,children:(0,a.jsx)("div",{className:"react-table__container",children:(0,a.jsx)("div",{className:o()("react-table__wrapper",{"react-table__wrapper--no-border":"no-border"===l,"react-table__wrapper--squared":"squared"===l}),children:(0,a.jsx)("table",{ref:t,className:o()("react-table__table",s),children:r})})})})}));s.displayName="Table";var c=["variant","className","children"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var m=(0,n.forwardRef)((function(e,t){var r,n=e.variant,i=void 0===n?"default":n,s=e.className,l=e.children,m=f(e,c);return(0,a.jsx)("tbody",u(u({className:o()((r={},d(r,"bg-primary divide-primary divide-y","default"===i),d(r,"bg-primary","no-divider"===i),r),s),ref:t},m),{},{children:l}))}));m.displayName="TableBody";var p=["children","className","variant","shouldWrap"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var g=function(e){var t=e.children,r=e.className,n=void 0===r?"":r,i=e.variant,s=void 0===i?"primary":i,c=e.shouldWrap,l=void 0===c||c,u=y(e,p);return(0,a.jsx)("td",b(b({className:o()("border-primary border-b py-5",{"whitespace-nowrap":l},{"cursor-pointer":!(null===u||void 0===u||!u.onClick),"text-darkest text-sm font-medium":"dark"===s,"text-right text-sm font-medium":"actions"===s,"text-dark text-sm":"primary"===s,"!px-0":"no-x-padding"===s,"!p-0":"no-padding"===s,"text-right":"right"===s,"!border-0 p-0":"no-border"===s,"text-dark text-[11px] font-semibold uppercase":"uppercase"===s},n)},u),{},{children:t}))},x=function(e){var t=e.children;return(0,a.jsx)("tfoot",{children:t})},j=["children"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var N=function(e){var t=e.children,r=_(e,j);return(0,a.jsx)("thead",w(w({},r),{},{children:t}))};function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){var t,r=e.children,n=e.variant,i=e.className,s="react-table__heading-cell",c="".concat(s,"--actions"),l="".concat(s,"--uppercase");return(0,a.jsx)("th",{scope:"col",className:o()(s,i,(t={},P(t,c,"actions"===n),P(t,l,"uppercase"===n),P(t,"!px-0","no-x-padding"===n),t)),children:r})},S=function(e){var t=e.isSticky,r=e.children,n=e.className;return(0,a.jsx)("thead",{className:o()("bg-primary",n,{"sticky top-0 z-10":t}),children:(0,a.jsx)("tr",{children:r})})},I=["children","isSelectable","className","dataTestId"];function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var A=(0,n.forwardRef)((function(e,t){var r=e.children,n=e.isSelectable,i=void 0!==n&&n,s=e.className,c=e.dataTestId,l=E(e,I);return(0,a.jsx)("tr",D(D({ref:t,className:o()({"cursor-default":!i},s),"data-testid":c},l),{},{children:r}))}));A.displayName="TableRow"},27903:(e,t,r)=>{r.d(t,{M:()=>n});var n={sm:"!hidden sm:!table-cell",md:"!hidden md:!table-cell",lg:"!hidden lg:!table-cell",xl:"!hidden xl:!table-cell"}},84389:(e,t,r)=>{r.d(t,{j:()=>d});var n=r(76234),i=r(94184),o=r.n(i),a=r(86013),s=r(54482),c=r(54032),l=r(54042),u=r(85893),d=function(e){var t=e.editor,r=e.portalId,i=e.showImagePickerModal,d=e.showFileUploadModal,f=e.showGiphyPickerModal,m=(0,c.K)();if(!t)return null;var p=[{name:"bold",icon:"20-character-bold",onClick:function(){return t.chain().focus().toggleBold().run()},ariaLabel:(0,a.t)("tiptap.bubble_menu.bold")},{name:"italic",icon:"20-character-italic",onClick:function(){return t.chain().focus().toggleItalic().run()},ariaLabel:(0,a.t)("tiptap.bubble_menu.italic")},{name:"underline",icon:"20-character-underline",onClick:function(){return t.chain().focus().toggleUnderline().run()},ariaLabel:(0,a.t)("tiptap.bubble_menu.underline")},{name:"strike",icon:"20-character-strike",onClick:function(){return t.chain().focus().toggleStrike().run()},ariaLabel:(0,a.t)("tiptap.bubble_menu.strike")},{name:"separator",icon:"32-line-vertical",ariaLabel:(0,a.t)("tiptap.separator")},{name:"link",icon:"20-character-link",onClick:function(){return m.show({editor:t})},ariaLabel:(0,a.t)("tiptap.link")},{name:"attachment",icon:"20-attach",onClick:function(){return d({editor:t})},ariaLabel:(0,a.t)("tiptap.attach_file")},{name:"image",icon:"20-file-image",onClick:function(){return i({editor:t,range:(0,l.v)({editor:t})})},ariaLabel:(0,a.t)("tiptap.add_image")},{name:"gif",icon:"20-gif",onClick:function(){return f({editor:t,range:(0,l.v)({editor:t})})},ariaLabel:(0,a.t)("tiptap.add_gif")},{name:"emoji",icon:"16-editor-emoji",iconSize:16,onClick:function(){return t.chain().focus().deleteRange((0,l.v)({editor:t})).insertContent(":").run()},ariaLabel:(0,a.t)("tiptap.add_emoji")},{name:"separator",icon:"32-line-vertical",ariaLabel:(0,a.t)("tiptap.separator")},{name:"heading",icon:"20-character-h2",onClick:function(){return t.chain().focus().toggleHeading({level:2}).run()},activeFnOptions:{level:2},ariaLabel:(0,a.t)("tiptap.bubble_menu.h2")},{name:"heading",icon:"20-character-h3",onClick:function(){return t.chain().focus().toggleHeading({level:3}).run()},activeFnOptions:{level:3},ariaLabel:(0,a.t)("tiptap.bubble_menu.h3")},{name:"orderedList",icon:"16-editor-ol",iconSize:16,onClick:function(){return t.chain().focus().deleteRange((0,l.v)({editor:t})).toggleOrderedList().run()},ariaLabel:(0,a.t)("tiptap.ordered_list")},{name:"bulletList",icon:"16-editor-ul",iconSize:16,onClick:function(){return t.chain().focus().deleteRange((0,l.v)({editor:t})).toggleBulletList().run()},ariaLabel:(0,a.t)("tiptap.bullet_list")}];return(0,u.jsx)(n.Z,{container:function(){return document.getElementById(r)},children:(0,u.jsx)("div",{className:"border-b-primary flex items-center space-x-1.5 border-b px-8 py-2.5",children:p.map((function(e){var r,n;return"separator"===e.name?(0,u.jsx)("div",{className:"border-primary h-6 border-r"},e.name):(0,u.jsx)(s.h,{name:e.icon,iconSize:null!==(r=e.iconSize)&&void 0!==r?r:20,iconClassName:"!text-dark",className:o()("rounded border",{"bg-tertiary text-dark border-light":t.isActive(e.name,null!==(n=e.activeFnOptions)&&void 0!==n?n:{}),"border-transparent":!t.isActive(e.name)}),onClick:e.onClick,ariaLabel:e.ariaLabel},e.name)}))})})}},17758:(e,t,r)=>{r.d(t,{J:()=>w});var n=r(77768),i=r(94184),o=r.n(i),a=r(85893),s=function(e){var t=e.isChecked;return(0,a.jsx)("span",{className:"absolute left-0 block h-8 w-full p-1.5","aria-checked":t,children:(0,a.jsx)("span",{className:"relative flex h-full w-full items-center",children:(0,a.jsx)("span",{"aria-hidden":"true",className:o()("pointer-events-none absolute inline-block h-5 w-5 rounded-full transition-[left] duration-200 ease-in-out",{"bg-v2-success left-[calc(100%-1.25rem)]":t,"bg-dark left-0":!t})})})})},c=r(86013),l=r(94281),u="checked",d="unchecked",f="loading",m=function(e){var t=e.state,r=void 0===t?d:t,n=e.isDisabled,i=e.tooltipLabelChecked,s=e.tooltipLabelUnchecked,m=e.className,p=e.placement,h=void 0===p?"top":p,b=e.children,v=r===u,y=r===f,g=r===d,x=o()("relative inline-flex cursor-pointer rounded-full border h-8 bg-primary items-center transition-colors min-w-[3.75rem]",{"border-v2-success hover:bg-tertiary":v,"border-dark hover:bg-tertiary":g,"border-dark":y,"cursor-not-allowed":n},m);if(!i||!s)return(0,a.jsx)("div",{className:x,children:b});var j=y?(0,c.t)(["toggle_with_loader","loading"]):v?i:s;return(0,a.jsx)(l.T,{className:x,content:j,placement:h,interactive:!1,children:b})},p=r(8246),h=function(e){var t=e.className,r=e.isVisible,n=e.children;return(0,a.jsx)("span",{className:o()("flex h-4 items-center justify-center leading-none transition-opacity duration-200 ease-in-out",{"opacity-0":!r,"opacity-100":r},t),children:(0,a.jsx)(p.Z.LabelXs,{weight:"semibold",children:n})})},b=r(11442),v=function(){return(0,a.jsx)("span",{className:"absolute w-full overflow-hidden",children:(0,a.jsx)("span",{className:"animate-spin-fast flex w-full items-center justify-center",children:(0,a.jsx)(b.D,{percentage:50,size:20,strokeWidth:1.75,backgroundClassName:"text-secondary",foregroundCircleClassName:"text-dark"})})})},y=["isChecked","isLoading","isDisabled","onChange","checkedLabel","uncheckedLabel","tooltipCheckedLabel","tooltipUncheckedLabel","className","containerClassName","tooltipPlacement"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var w=function(e){var t=e.isChecked,r=e.isLoading,i=e.isDisabled,c=e.onChange,l=e.checkedLabel,p=e.uncheckedLabel,b=e.tooltipCheckedLabel,g=e.tooltipUncheckedLabel,j=e.className,w=e.containerClassName,k=e.tooltipPlacement,_=O(e,y);return(0,a.jsx)(n.r,x(x({checked:t,onChange:c,className:o()("flex",w),disabled:i||r},_),{},{children:function(e){var t=e.checked;return(0,a.jsxs)(m,{state:r?f:t?u:d,isDisabled:i,tooltipLabelChecked:b,tooltipLabelUnchecked:g,placement:k,className:o()(j,{"cursor-not-allowed opacity-50":i}),children:[(0,a.jsx)("span",{className:"sr-only",children:t?l:p}),(0,a.jsxs)("span",{className:o()("left-0 flex w-full px-2",{"justify-start":t,"justify-end":!t,"opacity-0":r}),children:[(0,a.jsx)(h,{isVisible:Boolean(t&&!r&&l),children:l}),(0,a.jsx)(h,{isVisible:Boolean(!t&&!r&&p),children:p})]}),!r&&(0,a.jsx)(s,{isLoading:r,isChecked:t}),r&&(0,a.jsx)(v,{})]})}}))}},97611:(e,t,r)=>{r.d(t,{Y:()=>l});var n=r(3888),i=r(94184),o=r.n(i),a=r(50732),s=r(85893),c=function(e){var t=e.src,r=e.type,n=e.poster,i=e.rounded,c=void 0===i||i,l=e.isInset,u=void 0!==l&&l,d=e.mediaTranscriptId;return(0,s.jsxs)("video",{className:o()({"rounded-md":c&&!u,"h-full w-full bg-black":u}),controls:!0,controlsList:"nodownload",preload:"metadata",poster:n,children:[(0,s.jsx)("source",{src:t,type:r}),d&&(0,s.jsx)("track",{kind:"captions",src:a.CG.showVtt({id:String(d)})})]})},l=function(e){var t=e.src,r=e.type,i=e.poster,o=e.rounded,a=void 0===o||o,l=e.isDownloadable,u=void 0!==l&&l,d=e.mediaTranscriptId,f=e.signedId,m=e.variant;return"enhanced"===(void 0===m?"default":m)?(0,s.jsx)(n.T,{src:t,type:r,poster:i,isDownloadable:u,mediaTranscriptId:d,signedId:f}):(0,s.jsx)(c,{src:t,type:r,poster:i,rounded:a,mediaTranscriptId:d})}}}]);
//# sourceMappingURL=/packs/js/8388-c92a72ac5f856f657ef5.js.map